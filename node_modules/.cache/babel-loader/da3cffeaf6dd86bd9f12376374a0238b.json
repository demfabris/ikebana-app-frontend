{"ast":null,"code":"import _regeneratorRuntime from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,useHistory}from'react-router-dom';import api from'../../../services/api';import{storeAuth}from'../../../store/ducks/auth';import{useForm}from'react-hook-form';import IndexFooter from'./IndexFooter/IndexFooter';import'./styles.scss';export default function ForgotPassword(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var history=useHistory();var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var email,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=_ref.email;setLoading(true);_context.prev=2;_context.next=5;return api.post('/recover_pass',{email:email});case 5:response=_context.sent;alert('Email enviado');_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);_context.t0.message.includes('403')&&alert('Email não existe no banco de dados');case 12:_context.prev=12;setLoading(false);return _context.finish(12);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,9,12,15]]);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"section\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-main forgot\"},/*#__PURE__*/React.createElement(\"img\",{className:\"ike-logo\",src:\"https://ikebana-app-content.s3-sa-east-1\"+\".amazonaws.com/static/mainlogo.png\",alt:\"logo\"}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"login-main__inputs forgot-inputs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrapper\"},/*#__PURE__*/React.createElement(\"input\",{className:\"login-input\",name:\"email\",type:\"text\",ref:register({required:true,maxLenght:30,pattern:/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/}),placeholder:\"E-mail\"}),errors.email&&/*#__PURE__*/React.createElement(\"div\",{title:\"Campo necess\\xE1rio ou formato inv\\xE1lido\",className:\"validation-overlay\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},\"error_outline\")))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"login-btn\"},loading===true?/*#__PURE__*/React.createElement(\"div\",{className:\"sizer\"},/*#__PURE__*/React.createElement(\"div\",{class:\"lds-ellipsis\"},/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null))):/*#__PURE__*/React.createElement(\"p\",null,\"Enviar e-mail\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"login-main__spacer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"spacer-h\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"login-main__spacer--text\"},\"OU\"),/*#__PURE__*/React.createElement(\"div\",{className:\"spacer-h\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"login-main__external\"},/*#__PURE__*/React.createElement(\"button\",{className:\"login-google\"},/*#__PURE__*/React.createElement(\"p\",{className:\"login-google--text\"},\"Entrar usando\"),/*#__PURE__*/React.createElement(\"img\",{className:\"google-logo\",src:\"https://image.flaticon.com/icons/svg/281/281764.svg\",alt:\"Google\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"login-main__forgot\"},/*#__PURE__*/React.createElement(\"p\",null,\"Recuperar senha\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"login-bottom\"},/*#__PURE__*/React.createElement(\"p\",{className:\"login-bottom--text\"},\"N\\xE3o tem uma conta?\",/*#__PURE__*/React.createElement(\"button\",{className:\"register-btn\"},/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Criar\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"get-info\"},\"Em breve...\"),/*#__PURE__*/React.createElement(\"div\",{className:\"login-get-btn\"},/*#__PURE__*/React.createElement(\"button\",{className:\"appstore-btn\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/app-store-badge.png\",alt:\"App store\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"playstore-btn\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://play.google.com/intl/pt-BR/badges/static/images/badges/pt-br_badge_web_generic.png\",alt:\"Play store\"})))),/*#__PURE__*/React.createElement(IndexFooter,null)));}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Login/ForgotPassword.js"],"names":["React","useState","Link","useHistory","api","storeAuth","useForm","IndexFooter","ForgotPassword","register","handleSubmit","errors","loading","setLoading","history","onSubmit","email","post","response","alert","message","includes","required","maxLenght","pattern"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../../../services/api';\nimport { storeAuth  } from '../../../store/ducks/auth';\nimport { useForm } from 'react-hook-form';\n\nimport IndexFooter from './IndexFooter/IndexFooter';\n\nimport './styles.scss';\n\nexport default function ForgotPassword() {\n    const { register, handleSubmit, errors } = useForm();\n    const [loading, setLoading] = useState(false);\n\n    const history = useHistory();\n\n    const onSubmit = async ({ email }) => {\n        setLoading(true)\n        try {\n            const response = await api.post('/recover_pass', { email })\n            alert('Email enviado')\n        } catch(e) {\n            e.message.includes('403') && alert('Email não existe no banco de dados')\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    return(\n        <>\n            <div className=\"login\">\n                <section className=\"wrapper\">\n                    <div className=\"login-main forgot\">\n                        <img className=\"ike-logo\" \n                            src={\"https://ikebana-app-content.s3-sa-east-1\"+\n                                    \".amazonaws.com/static/mainlogo.png\"} alt=\"logo\"/>\n\n                        <form onSubmit={handleSubmit(onSubmit)}>\n                            <div className=\"login-main__inputs forgot-inputs\">\n                                <div className=\"input-wrapper\">\n                                    <input className=\"login-input\" name=\"email\" \n                                        type=\"text\" ref={ register({ required: true, \n                                            maxLenght: 30, \n                                            pattern: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/ })}\n                                        placeholder=\"E-mail\"/>\n                                    {errors.email && <div title=\"Campo necessário ou formato inválido\" \n                                        className=\"validation-overlay\"><i className=\"material-icons\">\n                                            error_outline</i></div>}\n                                </div>\n                            </div>\n                            <button type=\"submit\" className=\"login-btn\">\n                                {\n                                    loading === true ? <div className=\"sizer\">\n                                        <div class=\"lds-ellipsis\"><div></div>\n                                            <div></div><div></div><div></div></div>\n                                    </div>\n                                    :\n                                    <p>Enviar e-mail</p>\n                                }\n\n                            </button>\n                        </form>\n                        <div className=\"login-main__spacer\">\n                            <div className=\"spacer-h\"></div>\n                            <p className=\"login-main__spacer--text\">OU</p>\n                            <div className=\"spacer-h\"></div>\n                        </div>\n                        <div className=\"login-main__external\">\n                            <button className=\"login-google\">\n                                <p className=\"login-google--text\">Entrar usando</p>\n                                <img className=\"google-logo\" \n                                    src=\"https://image.flaticon.com/icons/svg/281/281764.svg\" \n                                    alt=\"Google\" />\n                            </button>\n                        </div>\n                        <div className=\"login-main__forgot\">\n                            <p>Recuperar senha</p>\n                        </div>\n                    </div>\n                    <div className=\"login-bottom\">\n                        <p className=\"login-bottom--text\">Não tem uma conta?\n                            <button className=\"register-btn\">\n                                <Link to=\"/register\">Criar</Link>\n                            </button>\n                        </p>\n                    </div>\n                    <div className=\"get-info\">Em breve...</div>\n                    <div className=\"login-get-btn\">\n                        <button className=\"appstore-btn\">\n                            <img src=\"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/app-store-badge.png\" alt=\"App store\" />\n                        </button>\n                        <button className=\"playstore-btn\">\n                            <img src=\"https://play.google.com/intl/pt-BR/badges/static/images/badges/pt-br_badge_web_generic.png\" alt=\"Play store\" />\n                        </button>\n                    </div>\n                </section>\n\n                <IndexFooter />\n            </div>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}