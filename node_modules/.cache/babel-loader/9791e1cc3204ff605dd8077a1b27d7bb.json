{"ast":null,"code":"import _regeneratorRuntime from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import api from'services/api';import'./styles.scss';import ArrangementBig from'../../cards/Arrangement_big/ArrangementBig';import Caroussel from'./Caroussel/Caroussel';export default function Explore(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];//top bar blur\nuseEffect(function(){if(window.innerWidth<850){document.getElementsByClassName(\"prev\")[0].style.transform=\"translateX(0)\";}// document.getElementById(\"header_main\").style.background=\"rgba(255,255,255,0.3)\"\n// document.getElementById(\"header_main\").style.backdropFilter=\"blur(15px)\"\n// return () => {\n//     if (window.location.pathname !== '/motivation' &&\n//         window.location.pathname !== '/register' &&\n//         window.location.pathname !== '/login' &&\n//         window.location.pathname !== '/forgot_pass' &&\n//         window.location.pathname !== '/logout') {\n//         document.getElementById(\"header_main\").style.background=\"#fff\"\n//         document.getElementById(\"header_main\").style.backdropFilter=\"none\"\n//     }\n// }\n},[]);var fetchProjects=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api({method:'get',url:'/list'});case 3:response=_context.sent;response.data&&setData(response.data.filter(function(el){return el.type==='arrangement';}));_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:_context.prev=10;setLoading(false);return _context.finish(10);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,7,10,13]]);}));return function fetchProjects(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchProjects();},[]);return/*#__PURE__*/React.createElement(\"div\",{class:\"explore\"},/*#__PURE__*/React.createElement(Caroussel,null),/*#__PURE__*/React.createElement(\"div\",{className:\"explore-main\",id:\"explore_main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-all\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-all__header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Todos os arranjos\")),/*#__PURE__*/React.createElement(\"div\",{className:\"explore-all__container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-all__container--main\",id:\"explore_all\"},loading?/*#__PURE__*/React.createElement(\"div\",{class:\"lds-dual-ring\"}):data.map(function(el){return/*#__PURE__*/React.createElement(ArrangementBig,el);}))))));}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Explore/Explore.js"],"names":["React","useEffect","useState","api","ArrangementBig","Caroussel","Explore","loading","setLoading","data","setData","window","innerWidth","document","getElementsByClassName","style","transform","fetchProjects","method","url","response","filter","el","type","console","log","map"],"mappings":"qfAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CAEA,MAAO,eAAP,CAEA,MAAOC,CAAAA,cAAP,KAA2B,4CAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,eACAJ,QAAQ,CAAC,IAAD,CADR,wCACvBK,OADuB,eACdC,UADc,8BAENN,QAAQ,CAAC,KAAD,CAFF,yCAEvBO,IAFuB,eAEjBC,OAFiB,eAI9B;AACAT,SAAS,CAAC,UAAM,CACZ,GAAIU,MAAM,CAACC,UAAP,CAAoB,GAAxB,CAA6B,CACzBC,QAAQ,CAACC,sBAAT,CAAgC,MAAhC,EAAwC,CAAxC,EAA2CC,KAA3C,CAAiDC,SAAjD,CAA2D,eAA3D,CACH,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,GAAMC,CAAAA,aAAa,0FAAG,sLAESd,CAAAA,GAAG,CAAC,CACvBe,MAAM,CAAE,KADe,CAEvBC,GAAG,CAAE,OAFkB,CAAD,CAFZ,QAERC,QAFQ,eAMdA,QAAQ,CAACX,IAAT,EAAiBC,OAAO,CAACU,QAAQ,CAACX,IAAT,CAAcY,MAAd,CAAqB,SAACC,EAAD,CAAQ,CAClD,MAAOA,CAAAA,EAAE,CAACC,IAAH,GAAY,aAAnB,CAAiC,CADZ,CAAD,CAAxB,CANc,+EASdC,OAAO,CAACC,GAAR,cATc,yBAWdjB,UAAU,CAAC,KAAD,CAAV,CAXc,qGAAH,kBAAbS,CAAAA,aAAa,0CAAnB,CAeAhB,SAAS,CAAC,UAAM,CACZgB,aAAa,GAChB,CAFQ,CAEP,EAFO,CAAT,CAKA,mBACI,2BAAK,KAAK,CAAC,SAAX,eACI,oBAAC,SAAD,MADJ,cAEI,2BAAK,SAAS,CAAC,cAAf,CAA8B,EAAE,CAAC,cAAjC,eACI,2BAAK,SAAS,CAAC,aAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,kDADJ,CADJ,cAII,2BAAK,SAAS,CAAC,wBAAf,eACI,2BAAK,SAAS,CAAC,8BAAf,CACI,EAAE,CAAC,aADP,EAGQV,OAAO,cACH,2BAAK,KAAK,CAAC,eAAX,EADG,CAGHE,IAAI,CAACiB,GAAL,CAAS,SAACJ,EAAD,qBAAQ,oBAAC,cAAD,CAAoBA,EAApB,CAAR,EAAT,CANZ,CADJ,CAJJ,CADJ,CAFJ,CADJ,CAuBH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from 'services/api';\n\nimport './styles.scss';\n\nimport ArrangementBig from '../../cards/Arrangement_big/ArrangementBig';\nimport Caroussel from './Caroussel/Caroussel';\n\nexport default function Explore() {\n    const [loading, setLoading] = useState(true);\n    const [data, setData] = useState(false);\n\n    //top bar blur\n    useEffect(() => {\n        if (window.innerWidth < 850) {\n            document.getElementsByClassName(\"prev\")[0].style.transform=\"translateX(0)\"\n        }\n        // document.getElementById(\"header_main\").style.background=\"rgba(255,255,255,0.3)\"\n        // document.getElementById(\"header_main\").style.backdropFilter=\"blur(15px)\"\n        // return () => {\n        //     if (window.location.pathname !== '/motivation' &&\n        //         window.location.pathname !== '/register' &&\n        //         window.location.pathname !== '/login' &&\n        //         window.location.pathname !== '/forgot_pass' &&\n        //         window.location.pathname !== '/logout') {\n        //         document.getElementById(\"header_main\").style.background=\"#fff\"\n        //         document.getElementById(\"header_main\").style.backdropFilter=\"none\"\n        //     }\n        // }\n    }, [])\n\n    const fetchProjects = async () => {\n        try {\n            const response = await api({\n                method: 'get',\n                url: '/list',\n            })\n            response.data && setData(response.data.filter((el) => {\n                return el.type === 'arrangement'}))\n        } catch(e) {\n            console.log(e)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        fetchProjects()\n    },[])\n\n\n    return (\n        <div class=\"explore\">\n            <Caroussel />\n            <div className=\"explore-main\" id=\"explore_main\">\n                <div className=\"explore-all\">\n                    <div className=\"explore-all__header\">\n                        <h2>Todos os arranjos</h2>\n                    </div>\n                    <div className=\"explore-all__container\">\n                        <div className=\"explore-all__container--main\" \n                            id=\"explore_all\">\n                            {\n                                loading ?\n                                    <div class=\"lds-dual-ring\"></div>\n                                    :\n                                    data.map((el) => <ArrangementBig {...el}/>)\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}