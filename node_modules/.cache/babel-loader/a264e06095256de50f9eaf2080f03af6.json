{"ast":null,"code":"import _slicedToArray from \"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Login/Register.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport api from '../../../services/api';\nimport Modal from '../../aux/Modal';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\nimport IndexFooter from './IndexFooter/IndexFooter';\nimport './styles.scss';\nexport default function Register() {\n  const _useForm = useForm(),\n        register = _useForm.register,\n        watch = _useForm.watch,\n        handleSubmit = _useForm.handleSubmit,\n        errors = _useForm.errors;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const history = useHistory();\n\n  const onSubmit = async ({\n    email,\n    fullname,\n    password\n  }) => {\n    setLoading(true);\n\n    try {\n      const response = await api.post('/user_register', {\n        email,\n        fullname,\n        password\n      });\n      alert('Registro completo, confirme seu email');\n      history.push('/login');\n    } catch (e) {\n      setError('Erro, e-mail já está registrado.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-main register-main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"ike-logo\",\n    src: \"https://ikebana-app-content.s3-sa-east-1\" + \".amazonaws.com/static/mainlogo.png\",\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"register-main-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"register-desc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Registre-se para aproveitar todos os recursos do website.\")), React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-main__inputs register-inputs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"email\",\n    type: \"text\",\n    ref: register({\n      required: true,\n      maxLength: 30,\n      pattern: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n    }),\n    placeholder: \"E-mail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), errors.email && errors.email.type === 'pattern' && React.createElement(\"div\", {\n    title: \"Formato inv\\xE1lido\",\n    className: \"validation-overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"error_outline\")), errors.email && errors.email.type === 'required' && React.createElement(\"div\", {\n    title: \"Campo necess\\xE1rio\",\n    className: \"validation-overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"error_outline\"))), React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"fullname\",\n    type: \"text\",\n    ref: register({\n      required: true,\n      maxLength: 50\n    }),\n    placeholder: \"Nome Completo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), errors.fullname && errors.fullname.type === 'required' && React.createElement(\"div\", {\n    title: \"Campo necess\\xE1rio\",\n    className: \"validation-overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"error_outline\"))), React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"password\",\n    type: \"password\",\n    ref: register({\n      required: true,\n      minLength: 6\n    }),\n    placeholder: \"Senha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), errors.password && React.createElement(\"div\", {\n    title: \"M\\xEDnimo de 6 caracteres\",\n    className: \"validation-overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"error_outline\"))), React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"confirm_pass\",\n    type: \"password\",\n    ref: register({\n      required: true,\n      validate: value => value === watch('password')\n    }),\n    placeholder: \"Confirmar senha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), errors.confirm_pass && React.createElement(\"div\", {\n    title: \"As senhas n\\xE3o coincidem\",\n    className: \"validation-overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"error_outline\")))), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"login-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, loading === true ? React.createElement(\"div\", {\n    className: \"sizer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"lds-ellipsis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }))) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Registrar\"))), React.createElement(\"div\", {\n    className: \"login-main__spacer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"spacer-h\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"login-main__spacer--text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"OU\"), React.createElement(\"div\", {\n    className: \"spacer-h\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"login-main__external\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"login-google\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"login-google--text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Registrar usando\"), React.createElement(\"img\", {\n    className: \"google-logo\",\n    src: \"https://image.flaticon.com/icons/svg/281/281764.svg\",\n    alt: \"Google\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"login-main__forgot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"forgot-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/forgot_pass\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Esqueceu sua senha?\")))), React.createElement(\"div\", {\n    className: \"login-bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"login-bottom--text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"J\\xE1 tem uma conta?\", React.createElement(\"button\", {\n    className: \"register-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Entrar\")))), React.createElement(\"div\", {\n    className: \"get-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Em breve...\"), React.createElement(\"div\", {\n    className: \"login-get-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"appstore-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/app-store-badge.png\",\n    alt: \"App store\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"playstore-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://play.google.com/intl/pt-BR/badges/static/images/badges/pt-br_badge_web_generic.png\",\n    alt: \"Play store\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })))), React.createElement(IndexFooter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), error && React.createElement(Modal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(ErrorDialog, {\n    handler: () => setError(false),\n    value: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Login/Register.js"],"names":["React","useState","useEffect","Link","useHistory","useForm","api","Modal","ErrorDialog","IndexFooter","Register","register","watch","handleSubmit","errors","loading","setLoading","error","setError","history","onSubmit","email","fullname","password","response","post","alert","push","e","required","maxLength","pattern","type","minLength","validate","value","confirm_pass"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport api from '../../../services/api';\nimport Modal from '../../aux/Modal';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\n\nimport IndexFooter from './IndexFooter/IndexFooter';\n\nimport './styles.scss';\n\nexport default function Register() {\n    const { register, watch, handleSubmit, errors } = useForm();\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(false);\n    const history = useHistory();\n\n\n    const onSubmit = async ({ email, fullname, password }) => {\n        setLoading(true)\n        try {\n            const response = await api.post('/user_register', { email, fullname, password })\n            alert('Registro completo, confirme seu email')\n            history.push('/login')\n        } catch(e) {\n            setError('Erro, e-mail já está registrado.')\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return(\n        <>\n            <div className=\"login\">\n                <div className=\"login-main register-main\">\n                    <img className=\"ike-logo\" \n                        src={\"https://ikebana-app-content.s3-sa-east-1\"+\n                                \".amazonaws.com/static/mainlogo.png\"} alt=\"logo\"/>\n                    <div className=\"register-main-info\">\n                        <p className=\"register-desc\">Registre-se para aproveitar \n                        todos os recursos do website.</p>\n                    </div>\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                        <div className=\"login-main__inputs register-inputs\">\n                            <div className=\"input-wrapper\">\n                                <input className=\"login-input\" name=\"email\" type=\"text\" \n                                    ref={ register({ required: true, maxLength: 30, \n                                    pattern: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/ })}\n                                    placeholder=\"E-mail\"/>\n                                { errors.email && errors.email.type === 'pattern' &&\n                                <div title=\"Formato inválido\" className=\"validation-overlay\">\n                                    <i className=\"material-icons\">\n                                        error_outline</i></div> }\n                                { errors.email && errors.email.type === 'required' &&\n                                    <div title=\"Campo necessário\" className=\"validation-overlay\">\n                                        <i className=\"material-icons\">\n                                            error_outline</i></div> }\n                            </div>\n                            <div className=\"input-wrapper\">\n                                <input className=\"login-input\" name=\"fullname\" type=\"text\" \n                                    ref={ register({ required: true, maxLength: 50 })} \n                                    placeholder=\"Nome Completo\"/>\n                                { errors.fullname && errors.fullname.type === 'required' && \n                                <div title=\"Campo necessário\" className=\"validation-overlay\">\n                                    <i className=\"material-icons\">\n                                        error_outline</i></div> }\n                            </div>\n                            <div className=\"input-wrapper\">\n                                <input className=\"login-input\" name=\"password\" type=\"password\" \n                                    ref={ register({ required: true, minLength: 6 }) } \n                                    placeholder=\"Senha\"/>\n                                {errors.password && <div title=\"Mínimo de 6 caracteres\" \n                                    className=\"validation-overlay\">\n                                    <i className=\"material-icons\">error_outline</i></div> }\n                            </div>\n                            <div className=\"input-wrapper\">\n                                <input className=\"login-input\" name=\"confirm_pass\" type=\"password\" \n                                    ref={ register({ required: true, \n                                        validate: value => value === watch('password') }) } \n                                    placeholder=\"Confirmar senha\"/>\n                                {errors.confirm_pass && <div title=\"As senhas não coincidem\" \n                                    className=\"validation-overlay\">\n                                    <i className=\"material-icons\">error_outline</i></div> }\n                            </div>\n                        </div>\n                        <button type=\"submit\" className=\"login-btn\">\n                            {\n                                loading === true ? <div className=\"sizer\">\n                                    <div class=\"lds-ellipsis\"><div></div>\n                                        <div></div><div></div><div></div></div>\n                                </div>\n                                :\n                                <p>Registrar</p>\n                            }\n                        </button>\n                    </form>\n                    <div className=\"login-main__spacer\">\n                        <div className=\"spacer-h\"></div>\n                        <p className=\"login-main__spacer--text\">OU</p>\n                        <div className=\"spacer-h\"></div>\n                    </div>\n                    <div className=\"login-main__external\">\n                        <button className=\"login-google\">\n                            <p className=\"login-google--text\">Registrar usando</p>\n                            <img className=\"google-logo\" \n                                src=\"https://image.flaticon.com/icons/svg/281/281764.svg\" \n                                alt=\"Google\" />\n                        </button>\n                    </div>\n                    <div className=\"login-main__forgot\">\n                        <button className=\"forgot-btn\">\n                        <Link to=\"/forgot_pass\">Esqueceu sua senha?</Link>\n                        </button>\n                    </div>\n                </div>\n                <div className=\"login-bottom\">\n                    <p className=\"login-bottom--text\">Já tem uma conta?\n                        <button className=\"register-btn\">\n                            <Link to=\"/login\">Entrar</Link>\n                        </button>\n                    </p>\n                </div>\n                <div className=\"get-info\">Em breve...</div>\n                <div className=\"login-get-btn\">\n                    <button className=\"appstore-btn\">\n                        <img src=\"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/app-store-badge.png\" alt=\"App store\" />\n                    </button>\n                    <button className=\"playstore-btn\">\n                        <img src=\"https://play.google.com/intl/pt-BR/badges/static/images/badges/pt-br_badge_web_generic.png\" alt=\"Play store\" />\n                    </button>\n                </div>\n            </div>\n            <IndexFooter />\n            {\n                error &&\n                    <Modal>\n                        <ErrorDialog handler={() => setError(false)}\n                        value={error}/>\n                    </Modal>\n            }\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}