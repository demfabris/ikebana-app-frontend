{"ast":null,"code":"var _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Login/Refresh.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { refreshAuth } from 'store/ducks/auth';\nimport { useHistory } from 'react-router-dom';\nimport api from 'services/api';\nexport default function Refresh() {\n  const {\n    refresh_key\n  } = useSelector(state => state.auth.keys[0]);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  useEffect(async () => {\n    try {\n      const response = await api({\n        method: 'post',\n        url: '/refresh',\n        headers: {\n          'Authorization': `Bearer ${refresh_key}`\n        }\n      });\n      const {\n        key\n      } = response.data;\n      dispatch(refreshAuth({\n        key,\n        refresh_key\n      }));\n      history.goBack();\n    } catch (e) {\n      console.log(e);\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, \"oi\"));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Login/Refresh.js"],"names":["React","useEffect","useState","useDispatch","useSelector","refreshAuth","useHistory","api","Refresh","refresh_key","state","auth","keys","history","dispatch","response","method","url","headers","key","data","goBack","e","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAC9B,QAAM;AAAEC,IAAAA;AAAF,MAAkBL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,IAAX,CAAgB,CAAhB,CAAV,CAAnC;AACA,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAMQ,QAAQ,GAAGX,WAAW,EAA5B;AAEAF,EAAAA,SAAS,CAAE,YAAY;AACnB,QAAI;AACA,YAAMc,QAAQ,GAAG,MAAMR,GAAG,CAAC;AACvBS,QAAAA,MAAM,EAAE,MADe;AAEvBC,QAAAA,GAAG,EAAE,UAFkB;AAGvBC,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAAST,WAAY;AADlC;AAHc,OAAD,CAA1B;AAOA,YAAM;AAAEU,QAAAA;AAAF,UAAUJ,QAAQ,CAACK,IAAzB;AACAN,MAAAA,QAAQ,CAACT,WAAW,CAAC;AAAEc,QAAAA,GAAF;AAAOV,QAAAA;AAAP,OAAD,CAAZ,CAAR;AACAI,MAAAA,OAAO,CAACQ,MAAR;AACH,KAXD,CAWE,OAAMC,CAAN,EAAS;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ,GAfQ,CAAT;AAiBA,sBAAO,uDACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,CAAP;AAGH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { refreshAuth } from 'store/ducks/auth';\nimport { useHistory } from 'react-router-dom';\nimport api from 'services/api'\n\nexport default function Refresh() {\n    const { refresh_key } = useSelector(state => state.auth.keys[0])\n    const history = useHistory();\n    const dispatch = useDispatch();\n    \n    useEffect( async () => {\n        try {\n            const response = await api({\n                method: 'post',\n                url: '/refresh',\n                headers: {\n                    'Authorization': `Bearer ${refresh_key}`\n                }\n            })\n            const { key } = response.data\n            dispatch(refreshAuth({ key, refresh_key }))\n            history.goBack()\n        } catch(e) {\n            console.log(e)\n        }\n    })\n\n    return(<>\n            <h1>oi</h1>\n        </>);\n}\n"]},"metadata":{},"sourceType":"module"}