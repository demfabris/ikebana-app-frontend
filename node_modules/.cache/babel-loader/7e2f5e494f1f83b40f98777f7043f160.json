{"ast":null,"code":"var _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana/reactapp/src/components/pages/Login/Register.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport api from '../../../services/api';\nimport Modal from '../../aux/Modal';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\nimport WarningDialog from '../../aux/WarningDialog/WarningDialog';\nimport IndexFooter from './IndexFooter/IndexFooter';\nimport './styles.scss';\nexport default function Register() {\n  const {\n    register,\n    watch,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [loading, setLoading] = useState(false);\n  const [loading2, setLoading2] = useState(false);\n  const [error, setError] = useState(false);\n  const [warning, setWarning] = useState(false);\n  const history = useHistory();\n\n  const onSubmit = async ({\n    email,\n    fullname,\n    password\n  }) => {\n    setLoading(true);\n\n    try {\n      const response = await api.post('/user_register', {\n        email,\n        fullname,\n        password\n      });\n      setWarning('Registro completo, acesse seu e-mail para confirmação.');\n    } catch (e) {\n      setError('Erro, e-mail já está registrado.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const oAuth = async () => {\n    setLoading2(true);\n\n    try {\n      const response = await api({\n        method: 'get',\n        url: '/oauth_login'\n      });\n      console.log(response.data.request_uri);\n      window.location.replace(response.data.request_uri);\n    } catch (e) {\n      console.log(e);\n    } finally {\n      setLoading2(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-main register-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"ike-logo\",\n    src: \"https://ikebana-app-content.s3-sa-east-1\" + \".amazonaws.com/static/mainlogo.png\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register-main-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"register-desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"Registre-se para aproveitar todos os recursos do website.\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-main__inputs register-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"email\",\n    type: \"text\",\n    ref: register({\n      required: true,\n      maxLength: 30,\n      pattern: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n    }),\n    placeholder: \"E-mail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 37\n    }\n  }), errors.email && errors.email.type === 'pattern' && /*#__PURE__*/React.createElement(\"div\", {\n    title: \"Formato inv\\xE1lido\",\n    className: \"validation-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 41\n    }\n  }, \"error_outline\")), errors.email && errors.email.type === 'required' && /*#__PURE__*/React.createElement(\"div\", {\n    title: \"Campo necess\\xE1rio\",\n    className: \"validation-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 45\n    }\n  }, \"error_outline\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"fullname\",\n    type: \"text\",\n    ref: register({\n      required: true,\n      maxLength: 50\n    }),\n    placeholder: \"Nome Completo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 37\n    }\n  }), errors.fullname && errors.fullname.type === 'required' && /*#__PURE__*/React.createElement(\"div\", {\n    title: \"Campo necess\\xE1rio\",\n    className: \"validation-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 41\n    }\n  }, \"error_outline\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"password\",\n    type: \"password\",\n    ref: register({\n      required: true,\n      minLength: 6\n    }),\n    placeholder: \"Senha\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"div\", {\n    title: \"M\\xEDnimo de 6 caracteres\",\n    className: \"validation-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 41\n    }\n  }, \"error_outline\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-input\",\n    name: \"confirm_pass\",\n    type: \"password\",\n    ref: register({\n      required: true,\n      validate: value => value === watch('password')\n    }),\n    placeholder: \"Confirmar senha\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 37\n    }\n  }), errors.confirm_pass && /*#__PURE__*/React.createElement(\"div\", {\n    title: \"As senhas n\\xE3o coincidem\",\n    className: \"validation-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 61\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 41\n    }\n  }, \"error_outline\")))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"login-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }, loading === true ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sizer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 56\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lds-ellipsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 67\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 67\n    }\n  }))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 37\n    }\n  }, \"Registrar\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-main__spacer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spacer-h\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login-main__spacer--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, \"OU\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spacer-h\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-main__external\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => oAuth(),\n    className: \"login-google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }, loading2 === true ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sizer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lds-ellipsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 71\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 67\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login-google--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 37\n    }\n  }, \"Entrar usando\"), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"google-logo\",\n    src: \"https://image.flaticon.com/icons/svg/281/281764.svg\",\n    alt: \"Google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-main__forgot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"forgot-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/forgot_pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, \"Esqueceu sua senha?\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login-bottom--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, \"J\\xE1 tem uma conta?\", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"register-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, \"Entrar\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"get-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, \"Em breve...\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-get-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"appstore-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/app-store-badge.png\",\n    alt: \"App store\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"playstore-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://play.google.com/intl/pt-BR/badges/static/images/badges/pt-br_badge_web_generic.png\",\n    alt: \"Play store\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(IndexFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  })), error && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ErrorDialog, {\n    handler: () => setError(false),\n    value: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  })), warning && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(WarningDialog, {\n    handler: () => setWarning(false),\n    accept: () => history.push('/login'),\n    value: warning,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/reactapp/src/components/pages/Login/Register.js"],"names":["React","useState","useEffect","Link","useHistory","useForm","api","Modal","ErrorDialog","WarningDialog","IndexFooter","Register","register","watch","handleSubmit","errors","loading","setLoading","loading2","setLoading2","error","setError","warning","setWarning","history","onSubmit","email","fullname","password","response","post","e","oAuth","method","url","console","log","data","request_uri","window","location","replace","required","maxLength","pattern","type","minLength","validate","value","confirm_pass","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport api from '../../../services/api';\n\nimport Modal from '../../aux/Modal';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\nimport WarningDialog from '../../aux/WarningDialog/WarningDialog';\n\nimport IndexFooter from './IndexFooter/IndexFooter';\n\nimport './styles.scss';\n\nexport default function Register() {\n    const { register, watch, handleSubmit, errors } = useForm();\n    const [loading, setLoading] = useState(false);\n    const [loading2, setLoading2] = useState(false);\n    const [error, setError] = useState(false);\n    const [warning, setWarning] = useState(false);\n    const history = useHistory();\n\n\n    const onSubmit = async ({ email, fullname, password }) => {\n        setLoading(true)\n        try {\n            const response = await api.post('/user_register', { email, fullname, password })\n            setWarning('Registro completo, acesse seu e-mail para confirmação.')\n        } catch(e) {\n            setError('Erro, e-mail já está registrado.')\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    const oAuth = async () => {\n        setLoading2(true)\n        try {\n            const response = await api({\n                method: 'get',\n                url: '/oauth_login'\n            })\n            console.log(response.data.request_uri)\n            window.location.replace(response.data.request_uri)\n        } catch(e) {\n            console.log(e)\n        } finally {\n            setLoading2(false)\n        }\n    }\n\n    return(\n        <>\n            <div className=\"login\">\n                <section className=\"wrapper\">\n                    <div className=\"login-main register-main\">\n                        <img className=\"ike-logo\" \n                            src={\"https://ikebana-app-content.s3-sa-east-1\"+\n                                    \".amazonaws.com/static/mainlogo.png\"} alt=\"logo\"/>\n                        <div className=\"register-main-info\">\n                            <p className=\"register-desc\">Registre-se para aproveitar \n                                todos os recursos do website.</p>\n                        </div>\n                        <form onSubmit={handleSubmit(onSubmit)}>\n                            <div className=\"login-main__inputs register-inputs\">\n                                <div className=\"input-wrapper\">\n                                    <input className=\"login-input\" name=\"email\" type=\"text\" \n                                        ref={ register({ required: true, maxLength: 30, \n                                            pattern: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/ })}\n                                        placeholder=\"E-mail\"/>\n                                    { errors.email && errors.email.type === 'pattern' &&\n                                    <div title=\"Formato inválido\" className=\"validation-overlay\">\n                                        <i className=\"material-icons\">\n                                            error_outline</i></div> }\n                                    { errors.email && errors.email.type === 'required' &&\n                                        <div title=\"Campo necessário\" className=\"validation-overlay\">\n                                            <i className=\"material-icons\">\n                                                error_outline</i></div> }\n                                </div>\n                                <div className=\"input-wrapper\">\n                                    <input className=\"login-input\" name=\"fullname\" type=\"text\" \n                                        ref={ register({ required: true, maxLength: 50 })} \n                                        placeholder=\"Nome Completo\"/>\n                                    { errors.fullname && errors.fullname.type === 'required' && \n                                    <div title=\"Campo necessário\" className=\"validation-overlay\">\n                                        <i className=\"material-icons\">\n                                            error_outline</i></div> }\n                                </div>\n                                <div className=\"input-wrapper\">\n                                    <input className=\"login-input\" name=\"password\" type=\"password\" \n                                        ref={ register({ required: true, minLength: 6 }) } \n                                        placeholder=\"Senha\"/>\n                                    {errors.password && <div title=\"Mínimo de 6 caracteres\" \n                                        className=\"validation-overlay\">\n                                        <i className=\"material-icons\">error_outline</i></div> }\n                                </div>\n                                <div className=\"input-wrapper\">\n                                    <input className=\"login-input\" name=\"confirm_pass\" type=\"password\" \n                                        ref={ register({ required: true, \n                                            validate: value => value === watch('password') }) } \n                                        placeholder=\"Confirmar senha\"/>\n                                    {errors.confirm_pass && <div title=\"As senhas não coincidem\" \n                                        className=\"validation-overlay\">\n                                        <i className=\"material-icons\">error_outline</i></div> }\n                                </div>\n                            </div>\n                            <button type=\"submit\" className=\"login-btn\">\n                                {\n                                    loading === true ? <div className=\"sizer\">\n                                        <div class=\"lds-ellipsis\"><div></div>\n                                            <div></div><div></div><div></div></div>\n                                    </div>\n                                    :\n                                    <p>Registrar</p>\n                                }\n                            </button>\n                        </form>\n                        <div className=\"login-main__spacer\">\n                            <div className=\"spacer-h\"></div>\n                            <p className=\"login-main__spacer--text\">OU</p>\n                            <div className=\"spacer-h\"></div>\n                        </div>\n                        <div className=\"login-main__external\">\n                            <button onClick={() => oAuth()} className=\"login-google\">\n                                {\n                                    loading2 === true ? <div className=\"sizer\">\n                                        <div className=\"lds-ellipsis\"><div></div>\n                                            <div></div><div></div><div></div></div>\n                                    </div>\n                                       :\n                                       <>\n                                    <p className=\"login-google--text\">Entrar usando</p>\n                                    <img className=\"google-logo\" \n                                        src=\"https://image.flaticon.com/icons/svg/281/281764.svg\" \n                                        alt=\"Google\" />\n                                       </>\n                                }\n                            </button>\n                        </div>\n                        <div className=\"login-main__forgot\">\n                            <button className=\"forgot-btn\">\n                                <Link to=\"/forgot_pass\">Esqueceu sua senha?</Link>\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"login-bottom\">\n                        <p className=\"login-bottom--text\">Já tem uma conta?\n                            <button className=\"register-btn\">\n                                <Link to=\"/login\">Entrar</Link>\n                            </button>\n                        </p>\n                    </div>\n                    <div className=\"get-info\">Em breve...</div>\n                    <div className=\"login-get-btn\">\n                        <button className=\"appstore-btn\">\n                            <img src=\"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/app-store-badge.png\" alt=\"App store\" />\n                        </button>\n                        <button className=\"playstore-btn\">\n                            <img src=\"https://play.google.com/intl/pt-BR/badges/static/images/badges/pt-br_badge_web_generic.png\" alt=\"Play store\" />\n                        </button>\n                    </div>\n                </section>\n                <IndexFooter />\n            </div>\n            {\n                error &&\n                    <Modal>\n                        <ErrorDialog handler={() => setError(false)}\n                            value={error}/>\n                    </Modal>\n            }\n            {\n                warning &&\n                    <Modal>\n                        <WarningDialog handler={() => setWarning(false)} \n                        accept={() => history.push('/login')} value={warning} />\n                    </Modal>\n            }\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}