{"ast":null,"code":"var _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Account/components/Edit/EditProject.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport api from 'services/api';\nimport { useForm } from 'react-hook-form';\nimport { useLocation } from 'react-router-dom';\nimport Modal from '../../../../aux/Modal';\nimport ErrorDialog from '../../../../aux/ErrorDialog/ErrorDialog';\nimport InfoDialog from '../../../../aux/InfoDialog/InfoDialog';\nimport WarningDialog from '../../../../aux/WarningDialog/WarningDialog';\nimport './styles.scss';\nexport default function EditProject() {\n  //toggle allow button only if arrangement is selected\n  const [allow, setAllow] = useState(false); //get project info\n\n  const location = useLocation();\n  const [el, setEl] = useState([]); //forms\n\n  const {\n    register,\n    handleSubmit,\n    errors,\n    watch\n  } = useForm(); //store select\n\n  const authKey = useSelector(state => state.auth.keys);\n  const userData = useSelector(state => state.account.userData[0]); //dialog\n\n  const [error, setError] = useState(false);\n  const [info, setInfo] = useState(false);\n  const [warn, setWarn] = useState(false); //feeding data\n\n  const [data, setData] = useState(false);\n  const [loading, setLoading] = useState(false); //picture inputs\n\n  const [file1, setFile1] = useState([]);\n  const [file2, setFile2] = useState([]);\n  const [file3, setFile3] = useState([]);\n\n  const handleInputChange = e => {\n    const inputNum = e.target.name.split('file')[1];\n    const file = e.target.files[0];\n\n    if (!file) {\n      setError('Selecione alguma foto');\n      return void 0;\n    }\n\n    if ((file.size / 1024 / 1024).toFixed() > 5) {\n      setError('Selecione um arquivo menor que 5MB');\n      return void 0;\n    }\n\n    if (!['image/png', 'image/jpeg'].includes(file.type)) {\n      setError('Formato inválido, selecione apenas imagens JPG ou PNG');\n      return void 0;\n    }\n\n    const preview = URL.createObjectURL(file);\n\n    switch (inputNum) {\n      case '1':\n        {\n          setFile1({\n            file,\n            preview\n          });\n          break;\n        }\n\n      case '2':\n        {\n          setFile2({\n            file,\n            preview\n          });\n          break;\n        }\n\n      case '3':\n        {\n          setFile3({\n            file,\n            preview\n          });\n          break;\n        }\n\n      default:\n        {\n          return void 0;\n        }\n    }\n  };\n\n  const delProject = async () => {\n    setLoading(true);\n    setWarn(false);\n\n    try {\n      const response = await api({\n        method: 'delete',\n        url: '/projects',\n        headers: {\n          'Authorization': `Bearer ${authKey[0].key}`\n        },\n        data: {\n          project_id: el.project_id\n        }\n      });\n      window.location.pathname = '/home';\n    } catch (e) {\n      console.log(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onSubmit = async ({\n    project_type,\n    project_title,\n    project_desc,\n    project_allow,\n    project_video\n  }) => {\n    setLoading(true);\n    const formData = new FormData();\n\n    try {\n      formData.append('project_type', project_type);\n      formData.append('project_title', project_title);\n      formData.append('project_desc', project_desc);\n      formData.append('project_video', project_video);\n      formData.append('project_id', el.project_id);\n      formData.append('project_allow', project_allow);\n      formData.append('file1', file1.file);\n      formData.append('file2', file2.file);\n      formData.append('file3', file3.file);\n      const response = await api({\n        method: 'put',\n        url: '/projects',\n        headers: {\n          'Authorization': `Bearer ${authKey[0].key}`,\n          'Content-Type': 'multipart/form-data'\n        },\n        data: formData\n      });\n      response.data && setInfo('Dados do projeto atualizados');\n      console.log(response.data);\n    } catch (e) {\n      console.log(e);\n      e.message.includes('500') && setError('Um projeto com este nome já existe');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    setEl(location.state);\n  }, []);\n  useEffect(() => {\n    location.state.pictures.file1 ? setFile1({\n      preview: location.state.pictures.file1\n    }) : setFile1({\n      preview: ''\n    });\n    location.state.pictures.file2 ? setFile2({\n      preview: location.state.pictures.file2\n    }) : setFile2({\n      preview: ''\n    });\n    location.state.pictures.file3 ? setFile3({\n      preview: location.state.pictures.file3\n    }) : setFile3({\n      preview: ''\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"new__header--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, \"Editar projeto existente.\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"new__inputs--desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, \"Informa\\xE7\\xF5es do projeto\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs--container acc-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"project-name\",\n    className: \"input-label acc-field__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  }, \"Tipo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"project-type__label\",\n    onClick: () => setAllow(true),\n    htmlFor: \"arrangement\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 33\n    }\n  }, \"Arranjo\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"project-type__input\",\n    value: \"arrangement\",\n    type: \"radio\",\n    id: \"arrangement\",\n    name: \"project_type\",\n    ref: register(),\n    defaultChecked: el.type === 'arrangement' ? 'checked' : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"project-type__label\",\n    onClick: () => setAllow(false),\n    htmlFor: \"lesson\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, \"Aula\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"project-type__input\",\n    value: \"lesson\",\n    type: \"radio\",\n    id: \"lesson\",\n    ref: register(),\n    name: \"project_type\",\n    defaultChecked: el.type === 'lesson' ? 'checked' : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs--container acc-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"project-name\",\n    className: \"input-label acc-field__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 29\n    }\n  }, \"Nome do Projeto\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    defaultValue: el.name,\n    ref: register({\n      required: true,\n      minLength: 6,\n      maxLength: 35\n    }),\n    className: \"account-input\",\n    name: \"project_title\",\n    id: \"project-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 29\n    }\n  }), errors.project_title && /*#__PURE__*/React.createElement(\"div\", {\n    title: \"M\\xEDnimo de 6 caracteres e M\\xE1ximo 35\",\n    className: \"validation-overlay-new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 58\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }, \"error_outline\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs--container acc-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"project-desc\",\n    className: \"input-label acc-field__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"project-desc\",\n    className: \"account-input\",\n    ref: register({\n      required: true,\n      minLength: 20\n    }),\n    placeholder: \"Texto descritivo ou explicativo\",\n    defaultValue: el.description,\n    name: \"project_desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }), errors.project_desc && /*#__PURE__*/React.createElement(\"div\", {\n    title: \"\\xC9 preciso incluir uma descri\\xE7\\xE3o de no m\\xEDnimo 20 caract\\xE9res\",\n    className: \"validation-overlay-new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 33\n    }\n  }, \"error_outline\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs--container acc-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      marginTop: \"2px\"\n    },\n    htmlFor: \"project-name\",\n    className: \"input-label acc-field__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, \"Solicita\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: `project-type ${!allow && 'hidden-allow'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"project-type__label\",\n    htmlFor: \"project_allow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 33\n    }\n  }, \"Permitir?\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"project-type__input\",\n    id: \"project_allow\",\n    type: \"checkbox\",\n    defaultChecked: el.allow,\n    name: \"project_allow\",\n    ref: register(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    title: \"Permitir que outras pessoas solicitem este arranjo.\",\n    className: \"material-icons help-allow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 33\n    }\n  }, \"help\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs--container acc-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"input-label acc-field__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 29\n    }\n  }, \"Fotos do Projeto\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"picture-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"picture-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"picture-container__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: `close-overlay ${!file1.preview ? 'inactive' : ''}`,\n    onClick: () => setFile1({\n      file: 'del'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 45\n    }\n  }, \"close\")), /*#__PURE__*/React.createElement(\"img\", {\n    src: file1.preview,\n    className: \"img-preview\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 41\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    ref: register(),\n    onChange: handleInputChange,\n    className: \"picture-input\",\n    name: \"file1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"picture-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"picture-container__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: `close-overlay ${!file2.preview ? 'inactive' : ''}`,\n    onClick: () => setFile2({\n      file: 'del'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 45\n    }\n  }, \"close\")), /*#__PURE__*/React.createElement(\"img\", {\n    src: file2.preview,\n    className: \"img-preview\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 41\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    ref: register(),\n    onChange: handleInputChange,\n    className: \"picture-input\",\n    name: \"file2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"picture-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"picture-container__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: `close-overlay ${!file3.preview ? 'inactive' : ''}`,\n    onClick: () => setFile3({\n      file: 'del'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 45\n    }\n  }, \"close\")), /*#__PURE__*/React.createElement(\"img\", {\n    src: file3.preview,\n    className: \"img-preview\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 41\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    ref: register(),\n    onChange: handleInputChange,\n    className: \"picture-input\",\n    name: \"file3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 41\n    }\n  }))))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"new__inputs--desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 25\n    }\n  }, \"Videoaula\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs--container acc-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"project-video\",\n    className: \"input-label acc-field__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 29\n    }\n  }, \"Link do Video\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"account-input\",\n    id: \"project-video\",\n    defaultValue: el.video,\n    ref: register(),\n    name: \"project_video\",\n    placeholder: \"Somente links do YouTube\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new__inputs--button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"app-btn btn-filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 29\n    }\n  }, loading === true ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sizer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 56\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lds-ellipsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 67\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 67\n    }\n  }))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 37\n    }\n  }, \"Concluir\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setWarn('Deseja realmente excluir este projeto?'),\n    type: \"button\",\n    className: \"app-btn btn-filled btn-del\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 29\n    }\n  }, loading === true ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sizer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 56\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"lds-ellipsis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 67\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 67\n    }\n  }))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 37\n    }\n  }, \"Excluir\")))))), error && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ErrorDialog, {\n    value: error,\n    handler: () => setError(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 25\n    }\n  })), info && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InfoDialog, {\n    value: info,\n    handler: () => {\n      setInfo(false);\n      window.location.pathname = '/home';\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 25\n    }\n  })), warn && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(WarningDialog, {\n    value: warn,\n    handler: () => {\n      setWarn(false);\n    },\n    accept: delProject,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 25\n    }\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Account/components/Edit/EditProject.js"],"names":["React","useEffect","useState","useDispatch","useSelector","api","useForm","useLocation","Modal","ErrorDialog","InfoDialog","WarningDialog","EditProject","allow","setAllow","location","el","setEl","register","handleSubmit","errors","watch","authKey","state","auth","keys","userData","account","error","setError","info","setInfo","warn","setWarn","data","setData","loading","setLoading","file1","setFile1","file2","setFile2","file3","setFile3","handleInputChange","e","inputNum","target","name","split","file","files","size","toFixed","includes","type","preview","URL","createObjectURL","delProject","response","method","url","headers","key","project_id","window","pathname","console","log","onSubmit","project_type","project_title","project_desc","project_allow","project_video","formData","FormData","append","message","pictures","required","minLength","maxLength","description","marginTop","video"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport api from 'services/api'\nimport { useForm } from 'react-hook-form';\nimport { useLocation } from 'react-router-dom';\n\nimport Modal from '../../../../aux/Modal';\nimport ErrorDialog from '../../../../aux/ErrorDialog/ErrorDialog';\nimport InfoDialog from '../../../../aux/InfoDialog/InfoDialog';\nimport WarningDialog from '../../../../aux/WarningDialog/WarningDialog';\n\n\nimport './styles.scss';\n\nexport default function EditProject() {\n    //toggle allow button only if arrangement is selected\n    const [allow, setAllow] = useState(false);\n\n    //get project info\n    const location = useLocation();\n    const [el, setEl] = useState([]);\n\n    //forms\n    const { register, handleSubmit, errors, watch } = useForm();\n\n    //store select\n    const authKey = useSelector(state => state.auth.keys)\n    const userData = useSelector(state => state.account.userData[0])\n\n    //dialog\n    const [error, setError] = useState(false);\n    const [info, setInfo] = useState(false);\n    const [warn, setWarn] = useState(false);\n\n    //feeding data\n    const [data, setData] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    //picture inputs\n    const [file1, setFile1] = useState([]);\n    const [file2, setFile2] = useState([]);\n    const [file3, setFile3] = useState([]);\n\n    const handleInputChange = (e) => {\n        const inputNum = e.target.name.split('file')[1]\n        const file = e.target.files[0]\n\n        if (!file) {\n            setError('Selecione alguma foto')\n            return void 0\n        }\n\n        if (((file.size/1024)/1024).toFixed() > 5) {\n            setError('Selecione um arquivo menor que 5MB')\n            return void 0\n        }\n\n        if (!(['image/png', 'image/jpeg'].includes(file.type))){\n            setError('Formato inválido, selecione apenas imagens JPG ou PNG')\n            return void 0\n        }\n\n        const preview = URL.createObjectURL(file)\n\n        switch(inputNum) {\n            case '1': {\n                setFile1({ file, preview })\n                break;\n            }\n            case '2': {\n                setFile2({ file, preview })\n                break;\n            }\n            case '3': {\n                setFile3({ file, preview })\n                break;\n            }\n            default: {\n                return void 0\n            }\n        }\n    }\n\n\n    const delProject = async () => {\n        setLoading(true)\n        setWarn(false)\n        try {\n            const response = await api({\n                method: 'delete',\n                url: '/projects',\n                headers: {\n                    'Authorization': `Bearer ${authKey[0].key}`,\n                },\n                data: {\n                    project_id: el.project_id\n                }\n            })\n            window.location.pathname = '/home'\n        } catch(e) {\n            console.log(e)\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    const onSubmit = async ({ \n        project_type,\n        project_title,\n        project_desc,\n        project_allow,\n        project_video }) => {\n            setLoading(true)\n            const formData = new FormData();\n            try {\n                formData.append('project_type', project_type)\n                formData.append('project_title', project_title)\n                formData.append('project_desc', project_desc)\n                formData.append('project_video', project_video)\n                formData.append('project_id', el.project_id)\n                formData.append('project_allow', project_allow)\n                formData.append('file1', file1.file)\n                formData.append('file2', file2.file)\n                formData.append('file3', file3.file)\n                const response = await api({\n                    method: 'put',\n                    url: '/projects',\n                    headers: {\n                        'Authorization': `Bearer ${authKey[0].key}`,\n                        'Content-Type': 'multipart/form-data'\n                    },\n                    data: formData,\n                })\n                response.data && setInfo('Dados do projeto atualizados')\n                console.log(response.data)\n            } catch(e) {\n                console.log(e)\n                e.message.includes('500') && setError('Um projeto com este nome já existe')\n            } finally {\n                setLoading(false)\n            }\n        }\n\n    useEffect(() => {\n        setEl(location.state)\n    },[])\n\n    useEffect(() => {\n        location.state.pictures.file1 ?\n            setFile1({preview: location.state.pictures.file1})\n            :\n            setFile1({preview: ''})\n\n        location.state.pictures.file2 ?\n            setFile2({preview: location.state.pictures.file2})\n            :\n            setFile2({preview: ''})\n\n        location.state.pictures.file3 ?\n            setFile3({preview: location.state.pictures.file3})\n            :\n            setFile3({preview: ''})\n    },[])\n\n    return(\n        <>\n            <div className=\"new\">\n                <div className=\"new__header\">\n                    <p className=\"new__header--title\">Editar projeto existente.</p>\n                </div>\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <div className=\"new__inputs\">\n                        <p className=\"new__inputs--desc\">Informações do projeto</p>\n                        <div className=\"new__inputs--container acc-field\">\n                            <label htmlFor=\"project-name\"\n                                className=\"input-label acc-field__title\">\n                                Tipo</label>\n                            <div className=\"project-type\">\n                                <label className=\"project-type__label\" onClick={() => setAllow(true)}\n                                    htmlFor=\"arrangement\">Arranjo\n                                </label>\n                                <input className=\"project-type__input\" \n                                    value=\"arrangement\"\n                                    type=\"radio\" id=\"arrangement\" name=\"project_type\"\n                                    ref={register()} defaultChecked={el.type === \n                                            'arrangement' ? 'checked' : null}/>\n                                <label className=\"project-type__label\" onClick={() => setAllow(false)}\n                                    htmlFor=\"lesson\">Aula\n                                </label>\n                                <input className=\"project-type__input\" value=\"lesson\"\n                                    type=\"radio\" id=\"lesson\" ref={register()} \n                                    name=\"project_type\" defaultChecked={el.type === \n                                            'lesson' ? 'checked' : null} />\n                            </div>\n                        </div>\n                        <div className=\"new__inputs--container acc-field\">\n                            <label htmlFor=\"project-name\"\n                                className=\"input-label acc-field__title\">\n                                Nome do Projeto</label>\n                            <input type=\"text\" defaultValue={el.name} \n                                ref={register({required: true, minLength: 6, maxLength: 35})} \n                                className=\"account-input\" name=\"project_title\"\n                                id=\"project-name\"/>\n                                {errors.project_title && <div title=\"Mínimo de 6 caracteres e Máximo 35\" \n                                className=\"validation-overlay-new\">\n                                <i className=\"material-icons\">error_outline</i></div>}\n                        </div>\n                        <div className=\"new__inputs--container acc-field\">\n                            <label htmlFor=\"project-desc\"\n                                className=\"input-label acc-field__title\">\n                                Descrição</label>\n                            <textarea id=\"project-desc\" \n                                className=\"account-input\" ref={register({required: true, minLength: 20})}\n                                placeholder=\"Texto descritivo ou explicativo\" \n                                defaultValue={el.description}\n                                name=\"project_desc\">\n                            </textarea>\n                                {errors.project_desc && \n                                <div title=\"É preciso incluir uma descrição de no mínimo 20 caractéres\"\n                                className=\"validation-overlay-new\">\n                                <i className=\"material-icons\">error_outline</i></div>}\n                        </div>\n                        <div className=\"new__inputs--container acc-field\">\n                            <label style={{marginTop: \"2px\"}} htmlFor=\"project-name\"\n                                className=\"input-label acc-field__title\">\n                                Solicitações\n                            </label>\n                            <div className={`project-type ${!allow && 'hidden-allow'}`}>\n                                <label className=\"project-type__label\" \n                                    htmlFor=\"project_allow\">Permitir?\n                                </label>\n                                <input className=\"project-type__input\" \n                                    id=\"project_allow\" type=\"checkbox\" defaultChecked={el.allow}\n                                    name=\"project_allow\" ref={register()}/>\n                                <i title=\"Permitir que outras pessoas solicitem este arranjo.\" className=\"material-icons help-allow\">help</i>\n                            </div>\n                        </div>\n                        <div className=\"new__inputs--container acc-field\">\n                            <label className=\"input-label acc-field__title\">\n                                Fotos do Projeto</label>\n                            <div className=\"picture-wrapper\">\n                                <div className=\"picture-container\">\n                                    <a className=\"picture-container__btn\">\n                                        <a className=\n                                            {`close-overlay ${ !file1.preview \n                                                ? 'inactive' : '' }`}\n                                            onClick={() => setFile1({file: 'del'})}>\n                                            <i className=\"material-icons\">close</i></a>\n                                        <img src={file1.preview} \n                                            className=\"img-preview\" alt=\"\" />\n                                        <i className=\"material-icons\">add</i>\n                                        <input type=\"file\" ref={register()} \n                                            onChange={handleInputChange}\n                                            className=\"picture-input\" \n                                            name=\"file1\" />\n                                    </a>\n                                </div>\n                                <div className=\"picture-container\">\n                                    <a className=\"picture-container__btn\">\n                                        <a className=\n                                            {`close-overlay ${ !file2.preview \n                                                ? 'inactive' : '' }`}\n                                            onClick={() => setFile2({file: 'del'})}>\n                                            <i className=\"material-icons\">close</i></a>\n                                        <img src={file2.preview} \n                                            className=\"img-preview\" alt=\"\" />\n                                        <i className=\"material-icons\">add</i>\n                                        <input type=\"file\" ref={register()} \n                                            onChange={handleInputChange}\n                                            className=\"picture-input\" \n                                            name=\"file2\" />\n                                    </a>\n                                </div>\n                                <div className=\"picture-container\">\n                                    <a className=\"picture-container__btn\">\n                                        <a className=\n                                            {`close-overlay ${ !file3.preview \n                                                ? 'inactive' : '' }`}\n                                            onClick={() => setFile3({file: 'del'})}>\n                                            <i className=\"material-icons\">close</i></a>\n                                        <img src={file3.preview} \n                                            className=\"img-preview\" alt=\"\" />\n                                        <i className=\"material-icons\">add</i>\n                                        <input type=\"file\" ref={register()} \n                                            onChange={handleInputChange}\n                                            className=\"picture-input\" \n                                            name=\"file3\" />\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                        <p className=\"new__inputs--desc\">Videoaula</p>\n                        <div className=\"new__inputs--container acc-field\">\n                            <label htmlFor=\"project-video\"\n                                className=\"input-label acc-field__title\">\n                                Link do Video</label>\n                            <input type=\"text\" className=\"account-input\" \n                                id=\"project-video\" defaultValue={el.video} \n                                ref={register()} name=\"project_video\"\n                                placeholder=\"Somente links do YouTube\"/>\n                        </div>\n                        <div className=\"new__inputs--button-wrapper\">\n                            <button type=\"submit\" className=\"app-btn btn-filled\">\n                                {\n                                    loading === true ? <div className=\"sizer\">\n                                        <div class=\"lds-ellipsis\"><div></div>\n                                            <div></div><div></div><div></div></div>\n                                    </div>\n                                    :\n                                    <p>Concluir</p>\n                                }\n                            </button>\n                            <button onClick={() => setWarn(\n                                'Deseja realmente excluir este projeto?')} \n                                type=\"button\" className=\"app-btn btn-filled btn-del\">\n                                {\n                                    loading === true ? <div className=\"sizer\">\n                                        <div class=\"lds-ellipsis\"><div></div>\n                                            <div></div><div></div><div></div></div>\n                                    </div>\n                                    :\n                                    <p>Excluir</p>\n                                }\n                            </button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            {\n                error &&\n                    <Modal>\n                        <ErrorDialog value={error} handler={() => setError(false)}/>\n                    </Modal>\n            }\n            {\n                info &&\n                    <Modal>\n                        <InfoDialog value={info} handler={() => {\n                            setInfo(false)\n                            window.location.pathname = '/home'\n                        }}/>\n                    </Modal>\n            }\n            {\n                warn &&\n                    <Modal>\n                        <WarningDialog value={warn} handler={() => {\n                            setWarn(false)\n                        }} accept={delProject}/>\n                    </Modal>\n            }\n        </>\n    );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}