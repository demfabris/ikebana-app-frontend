{"ast":null,"code":"var _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana_production/src/components/list_elements/Lesson/LessonWrapper.js\";\nimport React, { useState, useEffect } from 'react';\nimport LessonDisplay from './LessonDisplay';\nimport api from '../../../services/api';\nimport { useSelector, useDispatch } from 'react-redux';\nimport EmptyDisplay from '../Empty/EmptyDisplay';\nimport './styles.scss';\nexport default function LessonWrapper() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const authKey = useSelector(state => state.auth.keys);\n\n  const fetchProjects = async (key = authKey) => {\n    setLoading(true);\n\n    try {\n      const response = await api({\n        method: 'get',\n        url: '/projects',\n        headers: {\n          'Authorization': `Bearer ${key[0].key}`\n        }\n      });\n      setData(response.data.filter(pj => pj.type == 'lesson'));\n    } catch (e) {\n      console.log(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `arr-wrapper ${data.length === 0 ? 'wrapper-center' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lds-dual-ring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }) : data.map((el, key) => /*#__PURE__*/React.createElement(LessonDisplay, Object.assign({\n    key: key\n  }, el, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }))), !loading && data.length === 0 && /*#__PURE__*/React.createElement(EmptyDisplay, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana_production/src/components/list_elements/Lesson/LessonWrapper.js"],"names":["React","useState","useEffect","LessonDisplay","api","useSelector","useDispatch","EmptyDisplay","LessonWrapper","data","setData","loading","setLoading","authKey","state","auth","keys","fetchProjects","key","response","method","url","headers","filter","pj","type","e","console","log","length","map","el"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,YAAP,MAAyB,uBAAzB;AAEA,OAAO,eAAP;AAEA,eAAe,SAASC,aAAT,GAAyB;AACpC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAMY,OAAO,GAAGR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,IAArB,CAA3B;;AAEA,QAAMC,aAAa,GAAG,OAAOC,GAAG,GAACL,OAAX,KAAuB;AACzCD,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACA,YAAMO,QAAQ,GAAG,MAAMf,GAAG,CAAC;AACvBgB,QAAAA,MAAM,EAAE,KADe;AAEvBC,QAAAA,GAAG,EAAE,WAFkB;AAGvBC,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASJ,GAAG,CAAC,CAAD,CAAH,CAAOA,GAAI;AADjC;AAHc,OAAD,CAA1B;AAOAR,MAAAA,OAAO,CAACS,QAAQ,CAACV,IAAT,CAAcc,MAAd,CAAuBC,EAAD,IAAQA,EAAE,CAACC,IAAH,IAAW,QAAzC,CAAD,CAAP;AACH,KATD,CASE,OAAMC,CAAN,EAAS;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KAXD,SAWU;AACNd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,GAhBD;;AAkBAV,EAAAA,SAAS,CAAC,MAAM;AACZe,IAAAA,aAAa;AAChB,GAFQ,EAEP,EAFO,CAAT;AAIA,sBACI;AAAK,IAAA,SAAS,EAAG,eAAcR,IAAI,CAACoB,MAAL,KAAgB,CAAhB,GAAoB,gBAApB,GAAuC,EAAG,EAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQlB,OAAO,gBACH;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG,GAGPF,IAAI,CAACqB,GAAL,CAAS,CAACC,EAAD,EAAKb,GAAL,kBACL,oBAAC,aAAD;AAAe,IAAA,GAAG,EAAEA;AAApB,KAA6Ba,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ,CALR,EAUQ,CAACpB,OAAD,IAAYF,IAAI,CAACoB,MAAL,KAAgB,CAA5B,iBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXZ,CADJ;AAgBH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport LessonDisplay from './LessonDisplay';\nimport api from '../../../services/api';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport EmptyDisplay from '../Empty/EmptyDisplay';\n\nimport './styles.scss';\n\nexport default function LessonWrapper() {\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(true)\n    const authKey = useSelector(state => state.auth.keys)\n\n    const fetchProjects = async (key=authKey) => {\n        setLoading(true)\n        try {\n            const response = await api({\n                method: 'get',\n                url: '/projects',\n                headers: {\n                    'Authorization': `Bearer ${key[0].key}`\n                },\n            })\n            setData(response.data.filter( (pj) => pj.type == 'lesson' ))\n        } catch(e) {\n            console.log(e)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        fetchProjects()\n    },[])\n\n    return(\n        <div className={`arr-wrapper ${data.length === 0 ? 'wrapper-center' : ''}`}>\n            {\n                loading ?\n                    <div className=\"lds-dual-ring\"></div>\n                    :\n                data.map((el, key) => (\n                    <LessonDisplay key={key} {...el}/>\n                ))\n            }   \n            {\n                !loading && data.length === 0 && \n                    <EmptyDisplay />\n            }\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}