{"ast":null,"code":"import _regeneratorRuntime from \"/home/fabricio7p/Documents/Projects/Ikebana_production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/fabricio7p/Documents/Projects/Ikebana_production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/fabricio7p/Documents/Projects/Ikebana_production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana_production/src/components/Header/Header.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { changeUrl } from 'store/ducks/links';\nimport { loadNotif } from 'store/ducks/notifications';\nimport { refreshAuth } from 'store/ducks/auth';\nimport { DebounceInput } from 'react-debounce-input';\nimport SettingsDialog from '../aux/SettingsDialog/SettingsDialog';\nimport SearchBox from '../aux/SearchBox/SearchBox';\nimport Modal from '../aux/Modal';\nimport api from '../../services/api';\nimport './styles.scss';\nimport Clipper from '../aux/Clipper/Clipper'; //Page names\n\nvar Pages = {\n  'explore': 'Explorar',\n  'account': 'Conta',\n  'home': 'Perfil',\n  'lessons': 'Aulas',\n  'lesson': 'Aula'\n};\n\nvar CurrentUrl = function CurrentUrl() {\n  var active = useLocation();\n  return active.pathname.slice(1).split('/')[0];\n};\n\nexport default function Header() {\n  var dispatch = useDispatch();\n  var history = useHistory(); //shrink on scroll\n\n  useEffect(function () {\n    window.onscroll = function () {\n      shrinkOnScroll();\n    };\n\n    var shrinkOnScroll = function shrinkOnScroll() {\n      if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {\n        if (window.location.pathname !== '/motivation' && window.location.pathname !== '/register' && window.location.pathname !== '/login' && window.location.pathname !== '/forgot_pass' && window.location.pathname !== '/logout') {\n          document.getElementById(\"header_main\").style.height = \"3.5em\";\n          document.getElementById(\"menu_container\").style.top = \"4px\";\n          document.getElementById(\"sidebar_menu\").style.transform = \"translateY(-1.5em)\";\n        }\n      } else {\n        if (window.location.pathname !== '/motivation' && window.location.pathname !== '/register' && window.location.pathname !== '/login' && window.location.pathname !== '/forgot_pass' && window.location.pathname !== '/logout') {\n          document.getElementById(\"menu_container\").style.top = \"16px\";\n          document.getElementById(\"header_main\").style.height = \"5em\";\n          document.getElementById(\"sidebar_menu\").style.transform = \"translateY(0)\";\n        }\n      }\n    };\n  }); //Search\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchBox = _useState4[0],\n      setSearchBox = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      results = _useState6[0],\n      setResults = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loading2 = _useState10[0],\n      setLoading2 = _useState10[1];\n\n  var commitSearch = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return api({\n                method: 'post',\n                url: '/search',\n                data: {\n                  'string': search\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n              setResults(response.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 11:\n              _context.prev = 11;\n              setLoading(false);\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8, 11, 14]]);\n    }));\n\n    return function commitSearch() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //hamburguer\n\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      side = _useState12[0],\n      setSide = _useState12[1];\n\n  useEffect(function () {\n    window.innerWidth < 850 && setSide(false);\n  }, []);\n\n  var toggleSidebar = function toggleSidebar() {\n    if (window.innerWidth < 850) {\n      if (side) {\n        document.getElementById(\"main_sidebar\").style.transform = \"translateX(-220px)\";\n        document.getElementById(\"side-overlay\").style.display = \"none\";\n        setSide(false);\n      } else {\n        document.getElementById(\"main_sidebar\").style.transform = \"translateX(0px)\";\n        document.getElementById(\"side-overlay\").style.display = \"block\";\n        setSide(true);\n      }\n    } else {\n      if (side) {\n        document.getElementById(\"main_sidebar\").style.transform = \"translateX(-220px)\";\n\n        if (window.location.pathname.includes('explore')) {\n          document.getElementsByClassName(\"prev\")[0].style.transform = \"translateX(10px)\";\n        }\n\n        setSide(false);\n      } else {\n        document.getElementById(\"main_sidebar\").style.transform = \"translateX(0px)\";\n\n        if (window.location.pathname.includes('explore')) {\n          document.getElementsByClassName(\"prev\")[0].style.transform = \"translateX(230px)\";\n        }\n\n        setSide(true);\n      }\n    }\n  }; //Buttons dialog\n\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      dialog = _useState14[0],\n      setDialog = _useState14[1]; //Buttons counter indicator\n\n\n  var cartCount = useSelector(function (state) {\n    return state.shop.cart.length;\n  });\n  var allNotif = useSelector(function (state) {\n    return state.notifications.notifications;\n  }); //Profile button\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      settings = _useState16[0],\n      setSettings = _useState16[1]; //Notif Counter\n\n\n  var _useState17 = useState(allNotif.length),\n      _useState18 = _slicedToArray(_useState17, 2),\n      notifCount = _useState18[0],\n      setnotifCount = _useState18[1]; //Defaults\n\n\n  var defaults = useSelector(function (state) {\n    return state.defaults.data;\n  }); //Data fetching\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      data = _useState20[0],\n      setData = _useState20[1];\n\n  var authKey = useSelector(function (state) {\n    return state.auth.keys;\n  });\n\n  var hitApi = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(key) {\n      var response, refresh_key, onExpire, _key;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading2(true);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return api({\n                method: 'get',\n                url: '/user',\n                headers: {\n                  'Authorization': \"Bearer \".concat(key[0].key)\n                }\n              });\n\n            case 4:\n              response = _context2.sent;\n              dispatch(loadNotif(response.data.notifications));\n              setData(response.data);\n              _context2.next = 18;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              refresh_key = authKey[0].refresh_key;\n              _context2.next = 14;\n              return api({\n                method: 'post',\n                url: '/refresh',\n                headers: {\n                  'Authorization': \"Bearer \".concat(refresh_key)\n                }\n              });\n\n            case 14:\n              onExpire = _context2.sent;\n              _key = onExpire.data.key;\n              dispatch(refreshAuth({\n                key: _key,\n                refresh_key: refresh_key\n              }));\n              window.location.reload();\n\n            case 18:\n              _context2.prev = 18;\n              setLoading2(false);\n              return _context2.finish(18);\n\n            case 21:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9, 18, 21]]);\n    }));\n\n    return function hitApi(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var interval = setInterval(function () {\n      authKey.length !== 0 && hitApi(authKey);\n    }, 100000);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, []);\n  useEffect(function () {\n    authKey.length !== 0 && hitApi(authKey);\n  }, []);\n  useEffect(function () {\n    setnotifCount(allNotif.filter(function (value) {\n      return value.is_read === false;\n    }).length);\n  });\n  useEffect(function () {\n    search && commitSearch();\n  }, [search]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: toggleSidebar,\n    id: \"side-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-main\",\n    id: \"header_main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-container\",\n    id: \"menu_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggleSidebar,\n    id: \"hamburguer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 69\n    }\n  }, \"menu\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sanguetsu-mark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"header-logo\",\n    src: \"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/mainlogo_transparent_notext.png\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"logo-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 25\n    }\n  }, \"SANGUETSU\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-main__content\",\n    id: \"header_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-main__content--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-limiter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"page-title\",\n    id: \"header_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 29\n    }\n  }, Pages[CurrentUrl()]))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-main__content--search\",\n    id: \"search_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    id: \"search_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 25\n    }\n  }, \"search\"), /*#__PURE__*/React.createElement(DebounceInput, {\n    onBlur: function onBlur() {\n      setTimeout(function () {\n        return setSearchBox(false);\n      }, 100);\n    },\n    onFocus: function onFocus() {\n      return setSearchBox(true);\n    },\n    className: \"search-box\",\n    type: \"text\",\n    onChange: function onChange(e) {\n      return setSearch(e.target.value);\n    },\n    debounceTimeout: 1000,\n    placeholder: \"Pesquisar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 25\n    }\n  }), searchBox && /*#__PURE__*/React.createElement(SearchBox, {\n    loading: loading,\n    results: results,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shrink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-main__content--buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"counter \".concat(cartCount === 0 ? 'counter-hidden' : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 41\n    }\n  }, cartCount)), /*#__PURE__*/React.createElement(\"i\", {\n    onClick: function onClick() {\n      return setDialog(true);\n    },\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 37\n    }\n  }, \"redeem\"), dialog && /*#__PURE__*/React.createElement(Clipper, {\n    handler: function handler() {\n      return setDialog(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-wrapper \".concat(authKey.length === 0 ? 'disabled' : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"counter \".concat(authKey.length === 0 ? 'counter-disabled' : '', \" \").concat(notifCount === 0 ? 'counter-hidden' : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"notif-counter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 41\n    }\n  }, notifCount)), /*#__PURE__*/React.createElement(Link, {\n    onClick: function onClick() {\n      authKey.length !== 0 && dispatch(changeUrl('messages'));\n    },\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 41\n    }\n  }, \"notifications_none\")))), loading2 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lds-dual-ring home-loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 37\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-main__content--profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      authKey.length !== 0 && setSettings(true);\n    },\n    className: \"profile__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    title: data.username,\n    className: \"profile__btn--img\",\n    src: \"\".concat(data.length === 0 ? defaults.picture : data.picture),\n    alt: \"Profile pic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 41\n    }\n  }))))))), settings && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SettingsDialog, {\n    data: {\n      'Perfil': '/home/arrangements',\n      'Configurações': '/account/edit',\n      'Sair': '/logout'\n    },\n    handler: function handler() {\n      return setSettings(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 25\n    }\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana_production/src/components/Header/Header.js"],"names":["React","useState","useEffect","Link","useHistory","useLocation","useSelector","useDispatch","changeUrl","loadNotif","refreshAuth","DebounceInput","SettingsDialog","SearchBox","Modal","api","Clipper","Pages","CurrentUrl","active","pathname","slice","split","Header","dispatch","history","window","onscroll","shrinkOnScroll","document","body","scrollTop","documentElement","location","getElementById","style","height","top","transform","search","setSearch","searchBox","setSearchBox","results","setResults","loading","setLoading","loading2","setLoading2","commitSearch","method","url","data","response","console","log","side","setSide","innerWidth","toggleSidebar","display","includes","getElementsByClassName","dialog","setDialog","cartCount","state","shop","cart","length","allNotif","notifications","settings","setSettings","notifCount","setnotifCount","defaults","setData","authKey","auth","keys","hitApi","key","headers","refresh_key","onExpire","reload","interval","setInterval","clearInterval","filter","value","is_read","setTimeout","e","target","username","picture"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { changeUrl } from 'store/ducks/links';\nimport { loadNotif } from 'store/ducks/notifications';\nimport { refreshAuth } from 'store/ducks/auth';\nimport {DebounceInput} from 'react-debounce-input';\n\nimport SettingsDialog from '../aux/SettingsDialog/SettingsDialog';\nimport SearchBox from '../aux/SearchBox/SearchBox';\nimport Modal from '../aux/Modal';\nimport api from '../../services/api';\n\nimport './styles.scss';\n\nimport Clipper from '../aux/Clipper/Clipper';\n\n//Page names\nconst Pages = {\n    'explore' : 'Explorar',\n    'account' : 'Conta',\n    'home' : 'Perfil',\n    'lessons' : 'Aulas',\n    'lesson' : 'Aula'\n};\nconst CurrentUrl = () => {\n    let active = useLocation();\n    return active.pathname.slice(1).split('/')[0];\n}\n\nexport default function Header() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    //shrink on scroll\n    useEffect(() => {\n        window.onscroll = function() {shrinkOnScroll()};\n        const shrinkOnScroll = () => {\n            if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {\n\n            if (window.location.pathname !== '/motivation' &&\n                window.location.pathname !== '/register' &&\n                window.location.pathname !== '/login' &&\n                window.location.pathname !== '/forgot_pass' &&\n                window.location.pathname !== '/logout') {\n                    document.getElementById(\"header_main\").style.height=\"3.5em\"\n                    document.getElementById(\"menu_container\").style.top=\"4px\"\n                    document.getElementById(\"sidebar_menu\").style.transform=\"translateY(-1.5em)\"\n                }\n            }   else {\n            if (window.location.pathname !== '/motivation' &&\n                window.location.pathname !== '/register' &&\n                window.location.pathname !== '/login' &&\n                window.location.pathname !== '/forgot_pass' &&\n                window.location.pathname !== '/logout') {\n                    document.getElementById(\"menu_container\").style.top=\"16px\"\n                    document.getElementById(\"header_main\").style.height=\"5em\"\n                    document.getElementById(\"sidebar_menu\").style.transform=\"translateY(0)\"\n                }\n            }\n        }\n    })\n\n\n\n    //Search\n    const [search, setSearch] = useState(false);\n    const [searchBox, setSearchBox] = useState(false);\n    const [results, setResults] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [loading2, setLoading2] = useState(false);\n\n    const commitSearch = async () => {\n        setLoading(true)\n        try {\n            const response = await api({\n                method: 'post',\n                url: '/search',\n                data: {\n                    'string': search\n                }\n            })\n            setResults(response.data)\n        } catch(e) {\n            console.log(e)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    //hamburguer\n    const [side, setSide] = useState(true)\n\n    useEffect(() => {\n        window.innerWidth < 850 && setSide(false)\n    },[])\n\n    const toggleSidebar = () => {\n\n        if (window.innerWidth < 850) {\n            if (side) { \n                document.getElementById(\"main_sidebar\").style.transform=\"translateX(-220px)\"\n                document.getElementById(\"side-overlay\").style.display=\"none\";\n                setSide(false)\n            }\n            else {\n                document.getElementById(\"main_sidebar\").style.transform=\"translateX(0px)\"\n                document.getElementById(\"side-overlay\").style.display=\"block\";\n                setSide(true)\n            }\n\n        }\n\n        else {\n            if (side) { \n                document.getElementById(\"main_sidebar\").style.transform=\"translateX(-220px)\"\n                if (window.location.pathname.includes('explore')) {\n                    document.getElementsByClassName(\"prev\")[0].style.transform=\"translateX(10px)\"\n                }\n                setSide(false)\n            }\n            else {\n                document.getElementById(\"main_sidebar\").style.transform=\"translateX(0px)\"\n                if (window.location.pathname.includes('explore')) {\n                    document.getElementsByClassName(\"prev\")[0].style.transform=\"translateX(230px)\"\n                }\n                setSide(true)\n            }\n        }\n    }\n\n\n    //Buttons dialog\n    const [dialog, setDialog] = useState(false);\n\n    //Buttons counter indicator\n    const cartCount = useSelector(state => state.shop.cart.length);\n    const allNotif = useSelector(state => state.notifications.notifications)\n\n    //Profile button\n    const [settings, setSettings] = useState(false)\n\n    //Notif Counter\n    const [notifCount, setnotifCount] = useState(allNotif.length);\n\n    //Defaults\n    const defaults = useSelector(state => state.defaults.data)\n\n    //Data fetching\n    const [data, setData] = useState([])\n    const authKey = useSelector(state => state.auth.keys)\n\n    const hitApi = async (key) => {\n        setLoading2(true)\n        try{\n            const response = await api({\n                method: 'get',\n                url: '/user',\n                headers: {\n                    'Authorization': `Bearer ${key[0].key}`\n                }\n            })\n            dispatch(loadNotif(response.data.notifications))\n            setData(response.data)\n        } catch(e){\n            const refresh_key = authKey[0].refresh_key\n            const onExpire = await api({\n                method: 'post',\n                url: '/refresh',\n                headers: {\n                    'Authorization': `Bearer ${refresh_key}`\n                }\n            })\n            const { key } = onExpire.data\n            dispatch(refreshAuth({ key, refresh_key }))\n            window.location.reload()\n        } finally {\n            setLoading2(false)\n        }\n    }\n\n    useEffect(() => {\n      const interval = setInterval(() => {\n          authKey.length !== 0 && hitApi(authKey)\n      }, 100000);\n      return () => clearInterval(interval);\n    }, []);\n\n    useEffect(() => {\n        authKey.length !== 0 && hitApi(authKey)\n    }, [])\n\n    useEffect(() => {\n        setnotifCount(allNotif.filter((value) => {\n            return value.is_read === false\n        }).length)\n    })\n\n    useEffect(() => {\n        search &&\n            commitSearch()\n    }, [search])\n\n    return (\n        <>\n            <div onClick={toggleSidebar} id=\"side-overlay\"></div>\n            <div className=\"header-main\" id=\"header_main\">\n                <div className=\"menu-container\" id=\"menu_container\">\n                    <button onClick={toggleSidebar} id=\"hamburguer\"><i className=\"material-icons\">\n                        menu\n                    </i></button>\n                    <div className=\"sanguetsu-mark\">\n                        <img className=\"header-logo\" src={\"https://ikebana-app-content.s3-sa-east-1.amazonaws.com/static/mainlogo_transparent_notext.png\"} alt=\"logo\"/>\n                        <p className=\"logo-title\">SANGUETSU</p>\n                    </div>\n                </div>\n                <div className=\"header-main__content\" id=\"header_title\">\n                    <div className=\"header-main__content--title\">\n                        <div className=\"title-limiter\">\n                            <h1 className=\"page-title\" \n                                id=\"header_title\">{Pages[CurrentUrl()]}</h1>\n                        </div>\n                    </div>\n                    <div className=\"header-main__content--search\" id=\"search_box\">\n                        <i className=\"material-icons\" id=\"search_icon\">search</i>\n                        <DebounceInput onBlur={() => {\n                                setTimeout(() => setSearchBox(false), 100)\n                            }} onFocus={() => setSearchBox(true)} className=\"search-box\" type=\"text\"\n                        onChange={e => setSearch(e.target.value)} debounceTimeout={1000} placeholder=\"Pesquisar\"/>\n                        {\n                            searchBox &&\n                                <SearchBox loading={loading} results={results}/>\n                        }\n                    </div>\n                    <div className=\"right-wrapper\">\n                        <div className=\"shrink\">\n                            <div className=\"header-main__content--buttons\">\n                                <div className=\"button-wrapper\">\n                                    <div className={`counter ${ cartCount === 0 ?\n                                            'counter-hidden' : '' }`}>\n                                        <p>{cartCount}</p></div>\n                                    <i onClick={() => setDialog(true)} \n                                        className=\"material-icons\">redeem</i>\n                                    {\n                                        dialog &&\n                                            <Clipper handler={() => setDialog(false)} />\n                                    }\n                                </div>\n                                <div className={`button-wrapper ${authKey.length === 0 ? 'disabled' : ''}`}>\n                                    <div className={`counter ${ authKey.length === 0 ? 'counter-disabled' : '' } ${ notifCount === 0 ? 'counter-hidden' : '' }`}>\n                                        <p className=\"notif-counter\">{notifCount}</p></div>\n                                    <Link onClick={() => {authKey.length !== 0 &&\n                                            dispatch(changeUrl('messages'))\n                                            }} \n                                        to=\"/home\">\n                                        <i className=\"material-icons\">notifications_none</i>\n                                    </Link>\n                                </div>\n                            </div>\n                            {\n                                loading2 ? \n                                    <div className=\"lds-dual-ring home-loader\"></div>\n                                    :\n                                <div className=\"header-main__content--profile\">\n                                    <button onClick={() => {\n                                        authKey.length !== 0 &&\n                                            setSettings(true)\n                                    }} \n                                        className=\"profile__btn\">\n                                        <img title={data.username} className=\"profile__btn--img\" \n                                            src={`${data.length === 0 ? defaults.picture : data.picture}`}\n                                            alt=\"Profile pic\"/>\n                                    </button>\n                                </div>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {\n                settings &&\n                    <Modal>\n                        <SettingsDialog data={{\n                            'Perfil': '/home/arrangements',\n                            'Configurações': '/account/edit',\n                            'Sair': '/logout'\n                        }} handler={() => setSettings(false)}/>\n                    </Modal>\n            }\n        </>\n    );\n}\n\n"]},"metadata":{},"sourceType":"module"}