{"ast":null,"code":"import _slicedToArray from \"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Account/components/EditAccount/EditAccount.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport api from 'services/api';\nimport { useForm } from 'react-hook-form';\nimport Modal from '../../../../aux/Modal';\nimport ErrorDialog from '../../../../aux/ErrorDialog/ErrorDialog';\nimport './styles.scss';\nexport default function EditAccount() {\n  const _useForm = useForm(),\n        register = _useForm.register,\n        handleSubmit = _useForm.handleSubmit,\n        errors = _useForm.errors,\n        watch = _useForm.watch;\n\n  const authKey = useSelector(state => state.auth.keys);\n  const userData = useSelector(state => state.account.userData[0]);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        filePayload = _useState2[0],\n        setFilePayload = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        inputFile = _useState4[0],\n        setInputFile = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        error = _useState8[0],\n        setError = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        data = _useState10[0],\n        setData = _useState10[1];\n\n  const handleInputChange = e => {\n    const file = e.target.files[0];\n\n    if (!file) {\n      setError('Selecione alguma foto');\n      return void 0;\n    }\n\n    if ((file.size / 1024 / 1024).toFixed() > 5) {\n      setError('Selecione um arquivo menor que 5MB');\n      return void 0;\n    }\n\n    if (!['image/png', 'image/jpeg'].includes(file.type)) {\n      setError('Formato inválido, selecione apenas imagens JPG ou PNG');\n      return void 0;\n    }\n\n    setInputFile(URL.createObjectURL(e.target.files[0]));\n    setFilePayload(file);\n  };\n\n  const onSubmit = async ({\n    fullname,\n    bio\n  }) => {\n    setLoading(true);\n    const formData = new FormData();\n\n    try {\n      formData.append('file', filePayload);\n      formData.append('fullname', fullname);\n      formData.append('bio', bio);\n      const response = await api({\n        method: 'post',\n        url: '/user',\n        headers: {\n          'Authorization': `Bearer ${authKey[0].key}`,\n          'Content-Type': 'multipart/form-data'\n        },\n        data: formData\n      });\n      response.data.response && alert('Dados atualizados');\n      window.location.reload();\n    } catch (e) {\n      window.location.pathname = '/refresh';\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    setData(userData);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"edit__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"edit__header--title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Editar informa\\xE7\\xF5es pessoais.\")), React.createElement(\"div\", {\n    className: \"edit__inputs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"edit__inputs--desc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Informa\\xE7\\xF5es p\\xFAblicas da conta.\"), React.createElement(\"div\", {\n    className: \"edit__inputs--container acc-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-label acc-field__title\",\n    htmlFor: \"picture\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"edit__inputs--picture\",\n    src: !inputFile ? data.picture : inputFile,\n    alt: \"profile picture\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"file\",\n    ref: register(),\n    onChange: handleInputChange,\n    className: \"account-input img-input\",\n    name: \"picture\",\n    id: \"picture\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"edit__inputs--container acc-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"fullname\",\n    className: \"input-label acc-field__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Nome Completo\"), React.createElement(\"input\", {\n    type: \"text\",\n    ref: register({\n      required: true\n    }),\n    className: \"account-input\",\n    defaultValue: data.fullname,\n    name: \"fullname\",\n    id: \"fullname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"edit__inputs--container acc-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"email\",\n    className: \"input-label acc-field__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"E-mail\"), React.createElement(\"input\", {\n    type: \"text\",\n    ref: register({\n      required: true\n    }),\n    className: \"account-input email\",\n    value: data.email,\n    name: \"email\",\n    id: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"edit__inputs--container acc-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"bio\",\n    className: \"input-label acc-field__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Biografia\"), React.createElement(\"textarea\", {\n    className: \"account-input\",\n    name: \"bio\",\n    ref: register(),\n    defaultValue: data.bio !== '' ? data.bio : null,\n    placeholder: \"Fa\\xE7a uma breve descri\\xE7\\xE3o sobre voc\\xEA e sua experi\\xEAncia com Ikebana\",\n    id: \"bio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"app-btn btn-filled\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, loading === true ? React.createElement(\"div\", {\n    className: \"sizer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"lds-ellipsis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }))) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, userData.isPartner === true ? 'Atualizar' : 'Concluir'))))), error && React.createElement(Modal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(ErrorDialog, {\n    value: error,\n    handler: () => {\n      setError(false);\n      window.location.reload();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Account/components/EditAccount/EditAccount.js"],"names":["React","useState","useEffect","useDispatch","useSelector","api","useForm","Modal","ErrorDialog","EditAccount","register","handleSubmit","errors","watch","authKey","state","auth","keys","userData","account","filePayload","setFilePayload","inputFile","setInputFile","loading","setLoading","error","setError","data","setData","handleInputChange","e","file","target","files","size","toFixed","includes","type","URL","createObjectURL","onSubmit","fullname","bio","formData","FormData","append","response","method","url","headers","key","alert","window","location","reload","pathname","picture","required","email","isPartner"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport api from 'services/api'\nimport { useForm } from 'react-hook-form';\n\nimport Modal from '../../../../aux/Modal';\nimport ErrorDialog from '../../../../aux/ErrorDialog/ErrorDialog';\n\nimport './styles.scss';\n\nexport default function EditAccount() {\n    const { register, handleSubmit, errors, watch } = useForm();\n    const authKey = useSelector(state => state.auth.keys)\n    const userData = useSelector(state => state.account.userData[0])\n    \n    const [filePayload, setFilePayload] = useState(false);\n    const [inputFile, setInputFile] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(false);\n    const [data, setData] = useState(false)\n\n    const handleInputChange = (e) => {\n        const file = e.target.files[0]\n\n        if (!file) {\n            setError('Selecione alguma foto')\n            return void 0\n        }\n        \n        if (((file.size/1024)/1024).toFixed() > 5) {\n            setError('Selecione um arquivo menor que 5MB')\n            return void 0\n        }\n\n        if (!(['image/png', 'image/jpeg'].includes(file.type))){\n            setError('Formato inválido, selecione apenas imagens JPG ou PNG')\n            return void 0\n        }\n\n        setInputFile(URL.createObjectURL(e.target.files[0]))\n        setFilePayload(file)\n    }\n\n    const onSubmit = async ({ fullname, bio}) => {\n        setLoading(true)\n        const formData = new FormData()\n        try {\n            formData.append('file', filePayload)\n            formData.append('fullname', fullname)\n            formData.append('bio', bio)\n            const response = await api({\n                method: 'post',\n                url: '/user',\n                headers: {\n                    'Authorization': `Bearer ${authKey[0].key}`,\n                    'Content-Type': 'multipart/form-data'\n                },\n                data: formData\n            })\n            response.data.response && alert('Dados atualizados')\n            window.location.reload()\n        } catch(e) {\n            window.location.pathname = '/refresh'\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        setData(userData)\n    },[])\n\n    return(\n        <>\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"edit\">\n                    <div className=\"edit__header\">\n                        <p className=\"edit__header--title\">Editar informações pessoais.</p>\n                    </div>\n                    <div className=\"edit__inputs\">\n                        <p className=\"edit__inputs--desc\">Informações públicas da conta.</p>\n                        <div className=\"edit__inputs--container acc-field\">\n                            <label className=\"input-label acc-field__title\" \n                                htmlFor=\"picture\">\n                                <img className=\"edit__inputs--picture\" \n                                    src={!inputFile ? data.picture : inputFile} \n                                alt=\"profile picture\"/>\n                            </label>\n                                <input type=\"file\" ref={register()} \n                                    onChange={handleInputChange} \n                            className=\"account-input img-input\" name=\"picture\" \n                            id=\"picture\"/>\n                        </div>\n                        <div className=\"edit__inputs--container acc-field\">\n                            <label htmlFor=\"fullname\" \n                                className=\"input-label acc-field__title\">Nome Completo</label>\n                            <input type=\"text\" ref={register({required: true})} \n                                className=\"account-input\" defaultValue={data.fullname} \n                            name=\"fullname\" id=\"fullname\"/>\n                        </div>\n                        <div className=\"edit__inputs--container acc-field\">\n                            <label htmlFor=\"email\" \n                                className=\"input-label acc-field__title\">E-mail</label>\n                            <input type=\"text\" ref={register({required: true})} \n                                className=\"account-input email\" value={data.email} name=\"email\" id=\"email\"/>\n                        </div>\n                        <div className=\"edit__inputs--container acc-field\">\n                            <label htmlFor=\"bio\" \n                                className=\"input-label acc-field__title\">Biografia</label>\n                            <textarea className=\"account-input\" name=\"bio\" \n                                ref={register()} defaultValue={data.bio !== '' ? data.bio : null}\n                                placeholder=\"Faça uma breve descrição sobre você e sua experiência com Ikebana\" id=\"bio\"/>\n                        </div>\n                        <button type=\"submit\" \n                        className=\"app-btn btn-filled\">\n                            {\n                                loading === true ? <div className=\"sizer\">\n                                    <div class=\"lds-ellipsis\"><div></div>\n                                        <div></div><div></div><div></div></div>\n                                </div>\n                                :\n                                <p>{ userData.isPartner === true ? 'Atualizar' : 'Concluir' }</p>\n                            }\n                        </button>\n                    </div>\n                </div>\n            </form>\n            {\n                error &&\n                    <Modal>\n                        <ErrorDialog value={error} handler={() =>{\n                            setError(false)\n                            window.location.reload()\n                        } }/>\n                    </Modal>\n            }\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}