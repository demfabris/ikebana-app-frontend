{"ast":null,"code":"import _slicedToArray from \"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Home/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory, useLocation, Route, BrowserRouter as Router } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport api from '../../../services/api';\nimport { changeUrl } from 'store/ducks/links';\nimport './styles.scss';\nimport ArrangementWrapper from '../../list_elements/Arrangement/ArrangementWrapper';\nimport LessonWrapper from '../../list_elements/Lesson/LessonWrapper';\nimport MessageWrapper from '../../list_elements/Message/MessageWrapper';\nimport NewWrapper from '../../list_elements/New/NewWrapper';\nimport Modal from '../../aux/Modal';\nimport SettingsDialog from '../../aux/SettingsDialog/SettingsDialog';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\nimport MemberInfo from './components/MemberInfo';\nimport UserInfo from './components/UserInfo';\nimport NotAMemberTab from './components/NotAMemberTab';\nexport default function Home() {\n  const dispatch = useDispatch();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        error = _useState2[0],\n        setError = _useState2[1];\n\n  const active = useSelector(state => state.links.current.url);\n\n  const handleClick = url => {\n    dispatch(changeUrl(url));\n  }; //Tabs\n\n\n  const tabs = {\n    'arrangements': ArrangementWrapper,\n    'teaching': LessonWrapper,\n    'messages': MessageWrapper,\n    'new': NewWrapper\n  };\n  const ActiveComponent = tabs[active]; //Defaults\n\n  const defaults = useSelector(state => state.defaults.data); //Edit Settings\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        settings = _useState4[0],\n        setSettings = _useState4[1]; //Data fetching\n\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        data = _useState6[0],\n        setData = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        member = _useState8[0],\n        setMember = _useState8[1];\n\n  const authKey = useSelector(state => state.auth.keys);\n\n  const hitApi = async key => {\n    try {\n      const response = await api({\n        method: 'get',\n        url: '/user',\n        headers: {\n          'Authorization': `Bearer ${key[0].key}`\n        }\n      });\n      setData(response.data);\n      console.log(response.data);\n      response.data.isPartner && setMember(true);\n    } catch (e) {\n      //         console.log(e)\n      window.location.pathname = '/refresh';\n    }\n  };\n\n  useEffect(() => {\n    if (authKey.length === 0) {\n      window.location.pathname = '/logout';\n      alert('Você precisa entrar para acessar essa página');\n    } else {\n      hitApi(authKey);\n    }\n  }, []);\n  const joinDate = Date.parse(data.createdOn);\n  const created = new Date(joinDate);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile-main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile-main__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile-main__header--info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"picture-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile-picture picture-overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/account/edit\",\n    className: \"picture-overlay__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Editar foto\")), React.createElement(\"img\", {\n    className: \"profile-picture\",\n    src: data.picture,\n    alt: \"Profile pic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"profile-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile-title__email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, data.email), React.createElement(\"div\", {\n    className: \"profile-title__fullname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, data.fullname), React.createElement(\"div\", {\n    className: \"profile-title__joindate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"profile-title__joindate--text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Entrou:\", ' ' + created.getDate(), \"/\", 1 + created.getMonth(), \"/\", created.getFullYear())), React.createElement(\"div\", {\n    className: \"profile-title__status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, member ? React.createElement(\"p\", {\n    className: \"profile-title__status--text\",\n    style: {\n      color: \"green\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Membro\", React.createElement(\"i\", {\n    className: \"material-icons\",\n    style: {\n      color: \"green\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"check\")) : React.createElement(\"p\", {\n    className: \"profile-title__status--text\",\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Membro\", React.createElement(\"i\", {\n    className: \"material-icons\",\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"close\"))))), React.createElement(\"div\", {\n    className: \"profile-main__header--more\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile-bio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"profile-bio__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque porta maximus eleifend. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque porta maximus eleifend. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque porta maximus eleifend.\")), React.createElement(\"div\", {\n    className: \"profile-edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => setSettings(true),\n    className: \"profile-edit__btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"profile-edit__btn--text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"settings\"), \"Configura\\xE7\\xF5es\")))))), React.createElement(MemberInfo, Object.assign({}, data, member, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"profile-line\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"profile-line__list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    onClick: () => handleClick('arrangements'),\n    className: `profile-line__list--el \n                            ${active === 'arrangements' ? 'tab-active' : ''}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"local_florist\"), React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"Arranjos\")))), React.createElement(\"li\", {\n    onClick: () => handleClick('teaching'),\n    className: `profile-line__list--el \n                            ${active === 'teaching' ? 'tab-active' : ''}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"class\"), React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"Aulas\")))), React.createElement(\"li\", {\n    onClick: () => handleClick('messages'),\n    className: `profile-line__list--el \n                            ${active === 'messages' ? 'tab-active' : ''}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"notifications\"), React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"Notifica\\xE7\\xF5es\")))), React.createElement(\"li\", {\n    onClick: () => handleClick('new'),\n    className: `profile-line__list--el \n                            ${active === 'new' ? 'tab-active' : ''}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \"add_circle\"), React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"Criar\")))))), React.createElement(\"div\", {\n    className: \"profile-display\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, member ? React.createElement(ActiveComponent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }) : React.createElement(NotAMemberTab, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }))), settings && React.createElement(Modal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(SettingsDialog, {\n    data: {\n      'Tornar-se Membro': '/account/join',\n      'Informações': '/account/edit',\n      'Senha': '/account/password'\n    },\n    handler: () => setSettings(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Home/Home.js"],"names":["React","useState","useEffect","Link","useHistory","useLocation","Route","BrowserRouter","Router","useSelector","useDispatch","api","changeUrl","ArrangementWrapper","LessonWrapper","MessageWrapper","NewWrapper","Modal","SettingsDialog","ErrorDialog","MemberInfo","UserInfo","NotAMemberTab","Home","dispatch","error","setError","active","state","links","current","url","handleClick","tabs","ActiveComponent","defaults","data","settings","setSettings","setData","member","setMember","authKey","auth","keys","hitApi","key","response","method","headers","console","log","isPartner","e","window","location","pathname","length","alert","joinDate","Date","parse","createdOn","created","picture","email","fullname","getDate","getMonth","getFullYear","color"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EACIC,UADJ,EAEIC,WAFJ,EAGIC,KAHJ,EAIIC,aAAa,IAAIC,MAJrB,QAImC,kBAJnC;AAKA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,SAAT,QAA0B,mBAA1B;AAEA,OAAO,eAAP;AAEA,OAAOC,kBAAP,MAA+B,oDAA/B;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,cAAP,MAA2B,4CAA3B;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,cAAP,MAA2B,yCAA3B;AACA,OAAOC,WAAP,MAAwB,mCAAxB;AAEA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AAEA,eAAe,SAASC,IAAT,GAAgB;AAC3B,QAAMC,QAAQ,GAAGd,WAAW,EAA5B;;AAD2B,oBAEDT,QAAQ,CAAC,KAAD,CAFP;AAAA;AAAA,QAEpBwB,KAFoB;AAAA,QAEbC,QAFa;;AAG3B,QAAMC,MAAM,GAAGlB,WAAW,CAACmB,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,OAAZ,CAAoBC,GAA9B,CAA1B;;AAEA,QAAMC,WAAW,GAAID,GAAD,IAAS;AACzBP,IAAAA,QAAQ,CAACZ,SAAS,CAACmB,GAAD,CAAV,CAAR;AACH,GAFD,CAL2B,CAS3B;;;AACA,QAAME,IAAI,GAAG;AACT,oBAAgBpB,kBADP;AAET,gBAAYC,aAFH;AAGT,gBAAYC,cAHH;AAIT,WAAOC;AAJE,GAAb;AAMA,QAAMkB,eAAe,GAAGD,IAAI,CAACN,MAAD,CAA5B,CAhB2B,CAkB3B;;AACA,QAAMQ,QAAQ,GAAG1B,WAAW,CAACmB,KAAK,IAAIA,KAAK,CAACO,QAAN,CAAeC,IAAzB,CAA5B,CAnB2B,CAqB3B;;AArB2B,qBAsBKnC,QAAQ,CAAC,KAAD,CAtBb;AAAA;AAAA,QAsBpBoC,QAtBoB;AAAA,QAsBVC,WAtBU,kBAwB3B;;;AAxB2B,qBAyBHrC,QAAQ,CAAC,KAAD,CAzBL;AAAA;AAAA,QAyBpBmC,IAzBoB;AAAA,QAyBdG,OAzBc;;AAAA,qBA0BCtC,QAAQ,CAAC,KAAD,CA1BT;AAAA;AAAA,QA0BpBuC,MA1BoB;AAAA,QA0BZC,SA1BY;;AA2B3B,QAAMC,OAAO,GAAGjC,WAAW,CAACmB,KAAK,IAAIA,KAAK,CAACe,IAAN,CAAWC,IAArB,CAA3B;;AAEA,QAAMC,MAAM,GAAG,MAAOC,GAAP,IAAe;AAC1B,QAAG;AACC,YAAMC,QAAQ,GAAG,MAAMpC,GAAG,CAAC;AACvBqC,QAAAA,MAAM,EAAE,KADe;AAEvBjB,QAAAA,GAAG,EAAE,OAFkB;AAGvBkB,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASH,GAAG,CAAC,CAAD,CAAH,CAAOA,GAAI;AADjC;AAHc,OAAD,CAA1B;AAOAP,MAAAA,OAAO,CAACQ,QAAQ,CAACX,IAAV,CAAP;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACX,IAArB;AACAW,MAAAA,QAAQ,CAACX,IAAT,CAAcgB,SAAd,IAA2BX,SAAS,CAAC,IAAD,CAApC;AACH,KAXD,CAWE,OAAMY,CAAN,EAAQ;AACN;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,UAA3B;AACH;AACJ,GAhBD;;AAkBAtD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIwC,OAAO,CAACe,MAAR,KAAmB,CAAvB,EAA0B;AACtBH,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,SAA3B;AACAE,MAAAA,KAAK,CAAC,8CAAD,CAAL;AACH,KAHD,MAGO;AACHb,MAAAA,MAAM,CAACH,OAAD,CAAN;AACH;AAEJ,GARQ,EAQN,EARM,CAAT;AAUA,QAAMiB,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWzB,IAAI,CAAC0B,SAAhB,CAAjB;AACA,QAAMC,OAAO,GAAG,IAAIH,IAAJ,CAASD,QAAT,CAAhB;AAEA,SACI,0CACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,eAAT;AACI,IAAA,SAAS,EAAC,uBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,GAAG,EAAEvB,IAAI,CAAC4B,OAA3C;AACI,IAAA,GAAG,EAAC,aADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADJ,EASI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuC5B,IAAI,CAAC6B,KAA5C,CADJ,EAEI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0C7B,IAAI,CAAC8B,QAA/C,CAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,+BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEK,MAAMH,OAAO,CAACI,OAAR,EAFX,OAGO,IAAIJ,OAAO,CAACK,QAAR,EAHX,OAIOL,OAAO,CAACM,WAAR,EAJP,CADJ,CAHJ,EAWI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ7B,MAAM,GACF;AAAG,IAAA,SAAS,EAAC,6BAAb;AACI,IAAA,KAAK,EAAE;AAAC8B,MAAAA,KAAK,EAAE;AAAR,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEI;AAAG,IAAA,SAAS,EAAC,gBAAb;AACI,IAAA,KAAK,EAAE;AAACA,MAAAA,KAAK,EAAE;AAAR,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,CADE,GAOF;AAAG,IAAA,SAAS,EAAC,6BAAb;AACI,IAAA,KAAK,EAAE;AAACA,MAAAA,KAAK,EAAE;AAAR,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEI;AAAG,IAAA,SAAS,EAAC,gBAAb;AACI,IAAA,KAAK,EAAE;AAACA,MAAAA,KAAK,EAAE;AAAR,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,CATZ,CAXJ,CATJ,CADJ,EAuCI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kRADJ,CADJ,EAQI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,OAAO,EAAE,MAAMhC,WAAW,CAAC,IAAD,CAAlC;AACI,IAAA,SAAS,EAAC,mBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAG,IAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,wBAFJ,CADJ,CARJ,CAvCJ,CADJ,CADJ,EA6DQ,oBAAC,UAAD,oBAAgBF,IAAhB,EAA0BI,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA7DR,EA8DI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,OAAO,EAAE,MAAMR,WAAW,CAAC,cAAD,CAA9B;AACI,IAAA,SAAS,EAAG;8BACVL,MAAM,KAAK,cAAX,GAA4B,YAA5B,GAA2C,EAAG,EAFpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CADJ,CAHJ,CADJ,EAWI;AAAI,IAAA,OAAO,EAAE,MAAMK,WAAW,CAAC,UAAD,CAA9B;AACI,IAAA,SAAS,EAAG;8BACVL,MAAM,KAAK,UAAX,GAAwB,YAAxB,GAAuC,EAAG,EAFhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EAEI;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,CADJ,CAHJ,CAXJ,EAqBI;AAAI,IAAA,OAAO,EAAE,MAAMK,WAAW,CAAC,UAAD,CAA9B;AACI,IAAA,SAAS,EAAG;8BACVL,MAAM,KAAK,UAAX,GAAwB,YAAxB,GAAuC,EAAG,EAFhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ,CADJ,CAHJ,CArBJ,EA+BI;AAAI,IAAA,OAAO,EAAE,MAAMK,WAAW,CAAC,KAAD,CAA9B;AACI,IAAA,SAAS,EAAG;8BACVL,MAAM,KAAK,KAAX,GAAmB,YAAnB,GAAkC,EAAG,EAF3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,CADJ,CAHJ,CA/BJ,CADJ,CA9DJ,EA0GI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQa,MAAM,GACF,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAGF,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALZ,CA1GJ,CADJ,EAqHQH,QAAQ,IACJ,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,cAAD;AAAgB,IAAA,IAAI,EAAE;AAClB,0BAAoB,eADF;AAElB,qBAAe,eAFG;AAGlB,eAAS;AAHS,KAAtB;AAIG,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,KAAD,CAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAtHZ,CADJ;AAiIH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link,\n    useHistory,\n    useLocation,\n    Route,\n    BrowserRouter as Router } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport api from '../../../services/api';\nimport { changeUrl } from 'store/ducks/links';\n\nimport './styles.scss';\n\nimport ArrangementWrapper from '../../list_elements/Arrangement/ArrangementWrapper';\nimport LessonWrapper from '../../list_elements/Lesson/LessonWrapper';\nimport MessageWrapper from '../../list_elements/Message/MessageWrapper';\nimport NewWrapper from '../../list_elements/New/NewWrapper';\nimport Modal from '../../aux/Modal';\nimport SettingsDialog from '../../aux/SettingsDialog/SettingsDialog';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\n\nimport MemberInfo from './components/MemberInfo';\nimport UserInfo from './components/UserInfo';\nimport NotAMemberTab from './components/NotAMemberTab';\n\nexport default function Home() {\n    const dispatch = useDispatch();\n    const [error, setError] = useState(false);\n    const active = useSelector(state => state.links.current.url)\n\n    const handleClick = (url) => {\n        dispatch(changeUrl(url))\n    }\n\n    //Tabs\n    const tabs = {\n        'arrangements': ArrangementWrapper,\n        'teaching': LessonWrapper,\n        'messages': MessageWrapper,\n        'new': NewWrapper\n    }\n    const ActiveComponent = tabs[active]\n\n    //Defaults\n    const defaults = useSelector(state => state.defaults.data)\n\n    //Edit Settings\n    const [settings, setSettings] = useState(false);\n\n    //Data fetching\n    const [data, setData] = useState(false);\n    const [member, setMember] = useState(false);\n    const authKey = useSelector(state => state.auth.keys)\n\n    const hitApi = async (key) => {\n        try{\n            const response = await api({\n                method: 'get',\n                url: '/user',\n                headers: {\n                    'Authorization': `Bearer ${key[0].key}`\n                },\n            })\n            setData(response.data)\n            console.log(response.data)\n            response.data.isPartner && setMember(true)\n        } catch(e){\n            //         console.log(e)\n            window.location.pathname = '/refresh'\n        }\n    }\n\n    useEffect(() => {\n        if (authKey.length === 0) {\n            window.location.pathname = '/logout'\n            alert('Você precisa entrar para acessar essa página')\n        } else {\n            hitApi(authKey)\n        }\n\n    }, [])\n\n    const joinDate = Date.parse(data.createdOn)\n    const created = new Date(joinDate)\n\n    return(\n        <>\n            <div className=\"profile\">\n                <div className=\"profile-main\">\n                    <div className=\"profile-main__header\">\n                        <div className=\"profile-main__header--info\">\n                            <div className=\"picture-wrapper\">\n                                <div className=\"profile-picture picture-overlay\">\n                                    <Link to=\"/account/edit\" \n                                        className=\"picture-overlay__text\">Editar foto</Link>\n                                </div>\n                                <img className=\"profile-picture\" src={data.picture} \n                                    alt=\"Profile pic\"/>\n                            </div>\n                            <div className=\"profile-title\">\n                                <div className=\"profile-title__email\">{data.email}</div>\n                                <div className=\"profile-title__fullname\">{data.fullname}</div>\n                                <div className=\"profile-title__joindate\">\n                                    <p className=\"profile-title__joindate--text\">\n                                        Entrou: \n                                        {' ' + created.getDate()\n                                        }/{1 + created.getMonth()\n                                        }/{created.getFullYear()}\n                                    </p>\n                                </div>\n                                <div className=\"profile-title__status\">\n                                    {\n                                        member ? \n                                            <p className=\"profile-title__status--text\"\n                                                style={{color: \"green\"}}>Membro\n                                                <i className=\"material-icons\" \n                                                    style={{color: \"green\"}}>check</i>\n                                            </p>\n                                            :\n                                            <p className=\"profile-title__status--text\"\n                                                style={{color: \"red\"}}>Membro\n                                                <i className=\"material-icons\" \n                                                    style={{color: \"red\"}}>close</i>\n                                            </p>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"profile-main__header--more\">\n                            <div className=\"profile-bio\">\n                                <p className=\"profile-bio__text\">\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque porta maximus eleifend.\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque porta maximus eleifend.\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque porta maximus eleifend.\n                                </p>\n                            </div>\n                            <div className=\"profile-edit\">\n                                <button onClick={() => setSettings(true)} \n                                    className=\"profile-edit__btn\">\n                                    <p className=\"profile-edit__btn--text\">\n                                        <i className=\"material-icons\">settings</i>\n                                        Configurações\n                                    </p>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                    <MemberInfo {...data} {...member}/>\n                <div className=\"profile-line\">\n                    <ul className=\"profile-line__list\">\n                        <li onClick={() => handleClick('arrangements')}\n                            className={`profile-line__list--el \n                            ${active === 'arrangements' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">local_florist</i>\n                                    <p className=\"profile-tab__text\">Arranjos</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li onClick={() => handleClick('teaching')} \n                            className={`profile-line__list--el \n                            ${active === 'teaching' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">class</i>\n                                    <p className=\"profile-tab__text\">Aulas</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li onClick={() => handleClick('messages')}\n                            className={`profile-line__list--el \n                            ${active === 'messages' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">notifications</i>\n                                    <p className=\"profile-tab__text\">Notificações</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li onClick={() => handleClick('new')} \n                            className={`profile-line__list--el \n                            ${active === 'new' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">add_circle</i>\n                                    <p className=\"profile-tab__text\">Criar</p>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>   \n                </div>\n                <div className=\"profile-display\">\n                    {\n                        member ?\n                            <ActiveComponent />                   \n                            :\n                            <NotAMemberTab/>\n                    }\n                </div>\n            </div>\n            {\n                settings &&\n                    <Modal>\n                        <SettingsDialog data={{\n                            'Tornar-se Membro': '/account/join',\n                            'Informações': '/account/edit',\n                            'Senha': '/account/password'\n                        }} handler={() => setSettings(false)}/>\n                    </Modal>\n            }\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}