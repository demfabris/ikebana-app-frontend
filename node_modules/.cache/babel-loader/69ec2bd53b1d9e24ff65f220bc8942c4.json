{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { refreshAuth } from 'store/ducks/auth';\nimport { useHistory } from 'react-router-dom';\nimport api from 'services/api';\nexport default function Refresh() {\n  const {\n    refresh_key\n  } = useSelector(state => state.auth.keys[0]);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  console.log('entrei no refresh');\n  useEffect(async () => {\n    try {\n      const response = await api({\n        method: 'post',\n        url: '/refresh',\n        headers: {\n          'Authorization': `Bearer ${refresh_key}`\n        }\n      });\n      const {\n        key\n      } = response.data;\n      dispatch(refreshAuth({\n        key,\n        refresh_key\n      })); // history.goBack()\n    } catch (e) {\n      console.log(e);\n    } finally {\n      // history.goBack()\n      console.log('finalizei');\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null);\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Login/Refresh.js"],"names":["React","useEffect","useState","useDispatch","useSelector","refreshAuth","useHistory","api","Refresh","refresh_key","state","auth","keys","history","dispatch","console","log","response","method","url","headers","key","data","e"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAC9B,QAAM;AAAEC,IAAAA;AAAF,MAAkBL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,IAAX,CAAgB,CAAhB,CAAV,CAAnC;AACA,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAMQ,QAAQ,GAAGX,WAAW,EAA5B;AACAY,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAEAf,EAAAA,SAAS,CAAE,YAAY;AACnB,QAAI;AACA,YAAMgB,QAAQ,GAAG,MAAMV,GAAG,CAAC;AACvBW,QAAAA,MAAM,EAAE,MADe;AAEvBC,QAAAA,GAAG,EAAE,UAFkB;AAGvBC,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASX,WAAY;AADlC;AAHc,OAAD,CAA1B;AAOA,YAAM;AAAEY,QAAAA;AAAF,UAAUJ,QAAQ,CAACK,IAAzB;AACAR,MAAAA,QAAQ,CAACT,WAAW,CAAC;AAAEgB,QAAAA,GAAF;AAAOZ,QAAAA;AAAP,OAAD,CAAZ,CAAR,CATA,CAUA;AACH,KAXD,CAWE,OAAMc,CAAN,EAAS;AACPR,MAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ;AACH,KAbD,SAaU;AACN;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH;AACJ,GAlBQ,CAAT;AAoBA,sBAAO,yCAAP;AACH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { refreshAuth } from 'store/ducks/auth';\nimport { useHistory } from 'react-router-dom';\nimport api from 'services/api'\n\nexport default function Refresh() {\n    const { refresh_key } = useSelector(state => state.auth.keys[0])\n    const history = useHistory();\n    const dispatch = useDispatch();\n    console.log('entrei no refresh')\n    \n    useEffect( async () => {\n        try {\n            const response = await api({\n                method: 'post',\n                url: '/refresh',\n                headers: {\n                    'Authorization': `Bearer ${refresh_key}`\n                }\n            })\n            const { key } = response.data\n            dispatch(refreshAuth({ key, refresh_key }))\n            // history.goBack()\n        } catch(e) {\n            console.log(e)\n        } finally {\n            // history.goBack()\n            console.log('finalizei')\n        }\n    })\n\n    return(<></>);\n}\n"]},"metadata":{},"sourceType":"module"}