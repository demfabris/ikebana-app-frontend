{"ast":null,"code":"var _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana_production/src/components/Dialog/components/ArrangementDialog/ArrangementDialog.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { addCart } from 'store/ducks/shop';\nimport Slider from 'react-slick';\nimport api from 'services/api';\nimport Dialog from '../../Dialog';\nimport Modal from '../../../aux/Modal';\nimport ErrorDialog from '../../../aux/ErrorDialog/ErrorDialog';\nimport './styles.scss';\nexport default function ArrangementDialog({\n  handler,\n  el,\n  likeHandler,\n  likeCount\n}) {\n  const authKey = useSelector(state => state.auth.keys);\n  const [loading, setLoading] = useState(true);\n  const [userID, setUserID] = useState(false);\n  const [liked, setLiked] = useState(false);\n  const [ordered, setOrdered] = useState(false);\n  const [owner, setOwner] = useState(false);\n  const [error, setError] = useState(false);\n  const [likeInactive, setLikeInactive] = useState(false);\n  const history = useHistory(); //carousel custom settings\n\n  function SampleNextArrow(props) {\n    const {\n      className,\n      style,\n      onClick\n    } = props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-arrow dialog-next\",\n      style: { ...style,\n        display: \"block\"\n      },\n      onClick: onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, \"arrow_forward_ios\"));\n  }\n\n  function SamplePrevArrow(props) {\n    const {\n      className,\n      style,\n      onClick\n    } = props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-arrow dialog-prev\",\n      style: { ...style,\n        display: \"block\"\n      },\n      onClick: onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, \"arrow_back_ios\"));\n  }\n\n  const settings = {\n    arrows: true,\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    nextArrow: /*#__PURE__*/React.createElement(SampleNextArrow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 20\n      }\n    }),\n    prevArrow: /*#__PURE__*/React.createElement(SamplePrevArrow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 20\n      }\n    })\n  }; //end carousel settings\n  //dispatching to cart\n\n  const cart = useSelector(state => state.shop.cart);\n  const dispatch = useDispatch();\n\n  const addToCart = () => {\n    if (owner) {\n      setError('Você não pode solicitar o arranjo a sí mesmo(a)');\n    } else {\n      dispatch(addCart({\n        'project_id': el.project_id,\n        'name': el.name,\n        'picture': el.pictures.file1\n      }));\n      setOrdered(true);\n    }\n  }; //fetching user_id to check like status\n\n\n  const fetchUsername = async (key = authKey) => {\n    try {\n      const username = await api({\n        method: 'get',\n        url: '/user',\n        headers: {\n          'Authorization': `Bearer ${key[0].key}`\n        }\n      });\n      console.log(el);\n      setUserID(username.data.id);\n      el.autor === username.data.email ? setOwner(true) : console.log('');\n    } catch (e) {\n      console.log(e);\n    } finally {\n      setLoading(false);\n    }\n  }; //commiting like to db\n\n\n  const commitLike = async (key = authKey) => {\n    try {\n      const response = await api({\n        method: 'post',\n        url: '/like_project',\n        headers: {\n          'Authorization': `Bearer ${key[0].key}`\n        },\n        data: {\n          project_id: el.project_id\n        }\n      });\n      console.log(response.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    authKey.length !== 0 && fetchUsername();\n    cart.map(obj => Object.values(obj).includes(el.project_id) && setOrdered('Adicionado'));\n    authKey.length === 0 && setLikeInactive(true);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, {\n    handler: handler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Slider, Object.assign({}, settings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }), el.pictures.file1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__picture--slide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"slide-img\",\n    src: el.pictures.file1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 37\n    }\n  })), el.pictures.file2 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__picture--slide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"slide-img\",\n    src: el.pictures.file2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 37\n    }\n  })), el.pictures.file3 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__picture--slide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"slide-img\",\n    src: el.pictures.file3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__about--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"arrangement-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, el.name), authKey.length !== 0 && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: el.allow && !ordered ? addToCart : undefined,\n    title: el.allow ? 'Fazer uma solicitação deste arranjo' : 'O autor não permite solicitações deste arranjo',\n    className: el.allow && !ordered ? 'app-btn' : 'btn-inactive',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, !ordered ? 'Solicitar' : 'Adicionado')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__about--desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-autor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"arrangement-autor__img\",\n    src: el.autor_pic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"arrangement-autor__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }, el.autor_fullname.toLowerCase(), \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 102\n    }\n  }, \"-\"))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"arrangement-landscape__about--desc--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }, el.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-landscape__about--footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-likes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"arrangement-likes__num\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }, likeCount), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (!Object.keys(el.liked_by).includes(userID.toString())) {\n        setLiked(true);\n        commitLike();\n        likeHandler();\n        setLikeInactive(true);\n      }\n    },\n    className: `arrangement-likes__like ${likeInactive && 'blurred'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  }, Object.keys(el.liked_by).includes(userID.toString()) ? /*#__PURE__*/React.createElement(\"i\", {\n    title: \"Curtido\",\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 41\n    }\n  }, \"favorite\") : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 41\n    }\n  }, liked ? 'favorite' : 'favorite_border'))), el.video === '' ? /*#__PURE__*/React.createElement(\"button\", {\n    title: \"Este projeto n\\xE3o possui video\",\n    className: \"btn-inactive arr-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }, \"Video\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => history.push(`/lesson/${el.project_id.toString()}`),\n    className: \"app-btn arr-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 33\n    }\n  }, \"Video\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"arrangement-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, el.name), authKey.length !== 0 && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: el.allow && !ordered ? addToCart : undefined,\n    title: el.allow ? 'Fazer uma solicitação deste arranjo' : 'O autor não permite solicitações deste arranjo',\n    className: el.allow && !ordered ? 'app-btn' : 'btn-inactive',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 25\n    }\n  }, !ordered ? 'Solicitar' : 'Adicionado')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Slider, Object.assign({}, settings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }), el.pictures.file1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__picture--slide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"slide-img\",\n    src: el.pictures.file1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 37\n    }\n  })), el.pictures.file2 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__picture--slide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"slide-img\",\n    src: el.pictures.file2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 37\n    }\n  })), el.pictures.file3 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__picture--slide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"slide-img\",\n    src: el.pictures.file3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-autor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"arrangement-autor__img\",\n    src: el.autor_pic,\n    alt: \"Autor img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"arrangement-autor__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 25\n    }\n  }, el.autor_fullname.toLowerCase(), \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 98\n    }\n  }, \"-\"))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"arrangement-portrait__desc--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, el.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrangement-portrait__footer--likes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"arrangement-likes__num\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 29\n    }\n  }, likeCount), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (!Object.keys(el.liked_by).includes(userID.toString())) {\n        setLiked(true);\n        commitLike();\n        likeHandler();\n        setLikeInactive(true);\n      }\n    },\n    className: `arrangement-likes__like ${likeInactive && 'blurred'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 29\n    }\n  }, Object.keys(el.liked_by).includes(userID.toString()) ? /*#__PURE__*/React.createElement(\"i\", {\n    title: \"Curtido\",\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 41\n    }\n  }, \"favorite\") : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 41\n    }\n  }, liked ? 'favorite' : 'favorite_border'))), el.video === '' ? /*#__PURE__*/React.createElement(\"button\", {\n    title: \"Este projeto n\\xE3o possui video\",\n    className: \"btn-inactive arr-btn lesson-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 29\n    }\n  }, \"Video\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => history.push(`/lesson/${el.project_id.toString()}`),\n    className: \"app-btn arr-btn lesson-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 33\n    }\n  }, \"Video\")))), error && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ErrorDialog, {\n    handler: () => setError(false),\n    value: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana_production/src/components/Dialog/components/ArrangementDialog/ArrangementDialog.js"],"names":["React","useState","useEffect","useDispatch","useSelector","useHistory","addCart","Slider","api","Dialog","Modal","ErrorDialog","ArrangementDialog","handler","el","likeHandler","likeCount","authKey","state","auth","keys","loading","setLoading","userID","setUserID","liked","setLiked","ordered","setOrdered","owner","setOwner","error","setError","likeInactive","setLikeInactive","history","SampleNextArrow","props","className","style","onClick","display","SamplePrevArrow","settings","arrows","dots","infinite","speed","slidesToShow","slidesToScroll","nextArrow","prevArrow","cart","shop","dispatch","addToCart","project_id","name","pictures","file1","fetchUsername","key","username","method","url","headers","console","log","data","id","autor","email","e","commitLike","response","length","map","obj","Object","values","includes","file2","file3","allow","undefined","autor_pic","autor_fullname","toLowerCase","description","liked_by","toString","video","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { addCart } from 'store/ducks/shop';\nimport Slider from 'react-slick';\nimport api from 'services/api';\n\nimport Dialog from '../../Dialog';\nimport Modal from '../../../aux/Modal';\nimport ErrorDialog from '../../../aux/ErrorDialog/ErrorDialog';\n\nimport './styles.scss';\n\nexport default function ArrangementDialog({ handler, el, likeHandler, likeCount }) {\n    const authKey = useSelector(state => state.auth.keys)\n    const [loading, setLoading] = useState(true);\n    const [userID, setUserID] = useState(false);\n    const [liked, setLiked] = useState(false);\n    const [ordered, setOrdered] = useState(false);\n    const [owner, setOwner] = useState(false);\n    const [error, setError] = useState(false);\n    const [likeInactive, setLikeInactive] = useState(false);\n    const history = useHistory();\n\n\n    //carousel custom settings\n    function SampleNextArrow(props) {\n        const { className, style, onClick } = props;\n        return (\n            <div\n                className={\"custom-arrow dialog-next\"}\n                style={{ ...style, display: \"block\" }}\n                onClick={onClick}\n            >\n                <i className=\"material-icons\">arrow_forward_ios</i>\n            </div>\n        );\n    }\n    function SamplePrevArrow(props) {\n        const { className, style, onClick } = props;\n        return (\n            <div\n                className={\"custom-arrow dialog-prev\"}\n                style={{ ...style, display: \"block\" }}\n                onClick={onClick}\n            >\n                <i className=\"material-icons\">arrow_back_ios</i>\n            </div>\n        );\n    }\n    const settings = {\n        arrows: true,\n        dots: false,\n        infinite: true,\n        speed: 500,\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        nextArrow: <SampleNextArrow />,\n        prevArrow: <SamplePrevArrow />\n    };\n    //end carousel settings\n\n    //dispatching to cart\n    const cart = useSelector(state => state.shop.cart)\n    const dispatch = useDispatch();\n    const addToCart = () => {\n        if (owner) {\n            setError('Você não pode solicitar o arranjo a sí mesmo(a)')   \n        } else {\n            dispatch(addCart({\n                'project_id': el.project_id,\n                'name': el.name,\n                'picture': el.pictures.file1,\n            }))\n            setOrdered(true)\n        }\n    }\n\n\n    //fetching user_id to check like status\n    const fetchUsername = async (key=authKey) => {\n        try {\n            const username = await api({\n                method: 'get',\n                url: '/user',\n                headers: {\n                    'Authorization': `Bearer ${key[0].key}`\n                },\n            })\n            console.log(el)\n            setUserID(username.data.id)\n            el.autor === username.data.email ? setOwner(true) : console.log('')\n        } catch(e) {\n            console.log(e)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    //commiting like to db\n    const commitLike = async (key=authKey) => {\n        try {\n            const response = await api({\n                method: 'post',\n                url: '/like_project',\n                headers: {\n                    'Authorization': `Bearer ${key[0].key}`\n                },\n                data: {\n                    project_id: el.project_id\n                }\n            })\n            console.log(response.data)\n        } catch(e) {\n            console.log(e)\n        } \n    }\n\n    useEffect(() => {\n        authKey.length !== 0 && fetchUsername()\n        cart.map((obj) => (\n            Object.values(obj).includes(el.project_id)) && setOrdered('Adicionado')\n        )\n        authKey.length === 0 && setLikeInactive(true)\n    },[])\n\n\n    return(\n        <>\n        <Dialog handler={handler}>\n            <div className=\"arrangement-landscape\">\n                <div className=\"arrangement-landscape__picture\">\n                    <Slider {...settings}>\n                        {\n                            el.pictures.file1 && \n                                <div className=\"arrangement-landscape__picture--slide\">\n                                    <img className=\"slide-img\" src={el.pictures.file1} />\n                                </div>\n                        }\n                        {\n                            el.pictures.file2 && \n                                <div className=\"arrangement-landscape__picture--slide\">\n                                    <img className=\"slide-img\" src={el.pictures.file2} />\n                                </div>\n                        }\n                        {\n                            el.pictures.file3 && \n                                <div className=\"arrangement-landscape__picture--slide\">\n                                    <img className=\"slide-img\" src={el.pictures.file3} />\n                                </div>\n                        }\n                    </Slider>\n                </div>\n                <div className=\"arrangement-landscape__about\">\n                    <div className=\"arrangement-landscape__about--header\">\n                        <h1 className=\"arrangement-title\">{el.name}</h1>\n                        {\n                            authKey.length !== 0 &&\n                        <button onClick={(el.allow && !ordered) ? addToCart : undefined} \n                            title={el.allow ? 'Fazer uma solicitação deste arranjo' \n                            : 'O autor não permite solicitações deste arranjo'}\n                            className={el.allow && !ordered ? 'app-btn' : 'btn-inactive'}>\n                        {!ordered ? 'Solicitar' : 'Adicionado'}</button>\n                        }\n                    </div>\n                    <div className=\"arrangement-landscape__about--desc\">\n                        <div className=\"arrangement-autor\">\n                            <img className=\"arrangement-autor__img\" src={el.autor_pic} />\n                            <p className=\"arrangement-autor__name\">{el.autor_fullname.toLowerCase()} <b>-</b></p>\n                        </div>\n                        <p className=\"arrangement-landscape__about--desc--text\">\n                            {el.description}\n                        </p>\n                    </div>\n                    <div className=\"arrangement-landscape__about--footer\">\n                        <div className=\"arrangement-likes\">\n                            <p className=\"arrangement-likes__num\">{likeCount}</p>\n                            <button onClick={() => {\n                                if (!Object.keys(el.liked_by).includes(userID.toString())) {\n                                    setLiked(true)\n                                    commitLike()\n                                    likeHandler()\n                                    setLikeInactive(true)\n                                }}} \n                                className={`arrangement-likes__like ${likeInactive && 'blurred'}`}>\n                                {\n                                    Object.keys(el.liked_by).includes(userID.toString()) ?\n                                        <i title=\"Curtido\" \n                                    className=\"material-icons\">favorite</i>\n                                            :\n                                        <i className=\"material-icons\">{liked ? 'favorite' \n                                        : 'favorite_border'}</i>\n                                }\n                            </button>\n                        </div>\n                        {\n                            el.video === '' ? \n                            <button title=\"Este projeto não possui video\" \n                            className=\"btn-inactive arr-btn\">Video</button>\n                                :\n                                <button onClick={() => \n                                        history.push(`/lesson/${el.project_id.toString()}`)} \n                            className=\"app-btn arr-btn\">Video</button>\n                        }\n                    </div>\n                </div>\n            </div>\n            <div className=\"arrangement-portrait\">\n                <div className=\"arrangement-portrait__header\">\n                    <h1 className=\"arrangement-title\">{el.name}</h1>\n                    {\n                        authKey.length !== 0 &&\n                        <button onClick={(el.allow && !ordered) ? addToCart : undefined} \n                            title={el.allow ? 'Fazer uma solicitação deste arranjo' \n                            : 'O autor não permite solicitações deste arranjo'}\n                            className={el.allow && !ordered ? 'app-btn' : 'btn-inactive'}>\n                        {!ordered ? 'Solicitar' : 'Adicionado'}</button>\n                    }\n                </div>\n                <div className=\"arrangement-portrait__picture\">\n                    <Slider {...settings}>\n                        {\n                            el.pictures.file1 && \n                                <div className=\"arrangement-portrait__picture--slide\">\n                                    <img className=\"slide-img\" src={el.pictures.file1} />\n                                </div>\n                        }\n                        {\n                            el.pictures.file2 && \n                                <div className=\"arrangement-portrait__picture--slide\">\n                                    <img className=\"slide-img\" src={el.pictures.file2} />\n                                </div>\n                        }\n                        {\n                            el.pictures.file3 && \n                                <div className=\"arrangement-portrait__picture--slide\">\n                                    <img className=\"slide-img\" src={el.pictures.file3} />\n                                </div>\n                        }\n                    </Slider>\n                </div>\n                <div className=\"arrangement-portrait__desc\">\n                    <div className=\"arrangement-autor\">\n                        <img className=\"arrangement-autor__img\" \n                            src={el.autor_pic} alt=\"Autor img\" />\n                        <p className=\"arrangement-autor__name\">{el.autor_fullname.toLowerCase()} <b>-</b></p>\n                    </div>\n                    <p className=\"arrangement-portrait__desc--text\">{el.description}</p>\n                </div>\n                <div className=\"arrangement-portrait__footer\">\n                    <div className=\"arrangement-portrait__footer--likes\">\n                            <p className=\"arrangement-likes__num\">{likeCount}</p>\n                            <button onClick={() => {\n                                if (!Object.keys(el.liked_by).includes(userID.toString())) {\n                                    setLiked(true)\n                                    commitLike()\n                                    likeHandler()\n                                    setLikeInactive(true)\n                                }}} \n                                className={`arrangement-likes__like ${likeInactive && 'blurred'}`}>\n                                {\n                                    Object.keys(el.liked_by).includes(userID.toString()) ?\n                                        <i title=\"Curtido\" \n                                    className=\"material-icons\">favorite</i>\n                                            :\n                                        <i className=\"material-icons\">{liked ? 'favorite' \n                                        : 'favorite_border'}</i>\n                                }\n                            </button>\n                    </div>\n                        {\n                            el.video === '' ? \n                            <button title=\"Este projeto não possui video\" \n                            className=\"btn-inactive arr-btn lesson-btn\">Video</button>\n                                :\n                                <button onClick={() => \n                                        history.push(`/lesson/${el.project_id.toString()}`)} \n                            className=\"app-btn arr-btn lesson-btn\">Video</button>\n                        }\n                </div>\n            </div>\n        </Dialog>\n        {\n            error &&\n                <Modal>\n                    <ErrorDialog handler={() => setError(false)} value={error}/>\n                </Modal>\n        }\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}