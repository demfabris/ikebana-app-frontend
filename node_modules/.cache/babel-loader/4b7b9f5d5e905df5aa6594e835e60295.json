{"ast":null,"code":"import _regeneratorRuntime from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fabricio7p/Documents/Projects/Ikebana/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import{useLocation,useHistory}from'react-router-dom';import api from'../../../services/api';import'./styles.scss';export default function ConfirmEmail(){var location=useLocation();var history=useHistory();var hitApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api({method:'get',url:\"/verify\".concat(location.search)});case 3:res=_context.sent;console.log(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert('E-mail já confirmado ou link inválido');case 10:_context.prev=10;history.push('/login');return _context.finish(10);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,7,10,13]]);}));return function hitApi(){return _ref.apply(this,arguments);};}();useEffect(function(){location.search===''?history.push('/register'):hitApi();},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"confirm-email\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"confirm-email--text\"},\"E-mail confirmado, voc\\xEA est\\xE1 sendo redirecionado.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sizer\"},/*#__PURE__*/React.createElement(\"div\",{class:\"lds-ellipsis redirect\"},/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",null))));}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/front/src/components/pages/Login/ConfirmEmail.js"],"names":["React","useEffect","useLocation","useHistory","api","ConfirmEmail","location","history","hitApi","method","url","search","res","console","log","data","alert","push"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CAEA,MAAO,eAAP,CAEA,cAAe,SAASC,CAAAA,YAAT,EAAuB,CAClC,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CAEA,GAAMK,CAAAA,MAAM,0FAAG,iLAEWJ,CAAAA,GAAG,CAAC,CAClBK,MAAM,CAAE,KADU,CAElBC,GAAG,kBAAYJ,QAAQ,CAACK,MAArB,CAFe,CAAD,CAFd,QAEDC,GAFC,eAMPC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EANO,+EAQPC,KAAK,CAAC,uCAAD,CAAL,CARO,yBAUPT,OAAO,CAACU,IAAR,CAAa,QAAb,EAVO,qGAAH,kBAANT,CAAAA,MAAM,0CAAZ,CAcAP,SAAS,CAAC,UAAM,CACZK,QAAQ,CAACK,MAAT,GAAoB,EAApB,CACIJ,OAAO,CAACU,IAAR,CAAa,WAAb,CADJ,CAGIT,MAAM,EAHV,CAIH,CALQ,CAKP,EALO,CAAT,CAOA,mBACI,2BAAK,SAAS,CAAC,eAAf,eACI,0BAAI,SAAS,CAAC,qBAAd,4DADJ,cAEI,2BAAK,SAAS,CAAC,OAAf,eACI,2BAAK,KAAK,CAAC,uBAAX,eAAmC,+BAAnC,cACI,+BADJ,cACe,+BADf,cAC0B,+BAD1B,CADJ,CAFJ,CADJ,CAUH","sourcesContent":["import React, { useEffect } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport api from '../../../services/api';\n\nimport './styles.scss';\n\nexport default function ConfirmEmail(){\n    const location = useLocation();\n    const history = useHistory();\n\n    const hitApi = async () => {\n        try {\n            const res = await api({\n                method: 'get',\n                url: `/verify${location.search}`,\n            })\n            console.log(res.data)\n        } catch(e) {\n            alert('E-mail já confirmado ou link inválido')\n        } finally {\n            history.push('/login')\n        }\n    }\n\n    useEffect(() => {\n        location.search === '' ?\n            history.push('/register')\n            :\n            hitApi()\n    },[])\n\n    return(\n        <div className=\"confirm-email\">\n            <h1 className=\"confirm-email--text\">E-mail confirmado, você está sendo redirecionado.</h1>\n            <div className=\"sizer\">\n                <div class=\"lds-ellipsis redirect\"><div></div>\n                    <div></div><div></div><div></div></div>\n            </div>\n\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}