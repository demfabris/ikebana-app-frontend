{"ast":null,"code":"var _jsxFileName = \"/home/fabricio7p/Documents/Projects/Ikebana/reactapp/src/components/pages/Home/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory, useLocation, Route, BrowserRouter as Router } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport api from '../../../services/api';\nimport { changeUrl } from 'store/ducks/links';\nimport './styles.scss';\nimport ArrangementWrapper from '../../list_elements/Arrangement/ArrangementWrapper';\nimport LessonWrapper from '../../list_elements/Lesson/LessonWrapper';\nimport MessageWrapper from '../../list_elements/Message/MessageWrapper';\nimport NewWrapper from '../../list_elements/New/NewWrapper';\nimport Modal from '../../aux/Modal';\nimport SettingsDialog from '../../aux/SettingsDialog/SettingsDialog';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\nimport MemberInfo from './components/MemberInfo';\nimport NotAMemberInfo from './components/NotAMemberInfo';\nimport NotAMemberTab from './components/NotAMemberTab';\nexport default function Home() {\n  const dispatch = useDispatch();\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const active = useSelector(state => state.links.current.url);\n\n  const handleClick = url => {\n    dispatch(changeUrl(url));\n  }; //Tabs\n\n\n  const tabs = {\n    'arrangements': ArrangementWrapper,\n    'teaching': LessonWrapper,\n    'messages': MessageWrapper,\n    'new': NewWrapper\n  };\n  const ActiveComponent = tabs[active]; //Defaults\n\n  const defaults = useSelector(state => state.defaults.data); //Edit Settings\n\n  const [settings, setSettings] = useState(false); //Data fetching\n\n  const [data, setData] = useState(false);\n  const [member, setMember] = useState(false);\n  const authKey = useSelector(state => state.auth.keys);\n\n  const hitApi = async key => {\n    try {\n      const response = await api({\n        method: 'get',\n        url: '/user',\n        headers: {\n          'Authorization': `Bearer ${key[0].key}`\n        }\n      });\n      setData(response.data);\n      response.data.isPartner && setMember(true);\n    } catch (e) {\n      console.log('refresh');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (authKey.length === 0) {\n      window.location.pathname = '/logout';\n      alert('Você precisa entrar para acessar essa página');\n    } else {\n      hitApi(authKey);\n    }\n  }, []);\n  const joinDate = Date.parse(data.createdOn);\n  const created = new Date(joinDate);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-main__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lds-dual-ring home-loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-main__header--info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"picture-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-picture picture-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/account/edit\",\n    className: \"picture-overlay__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 37\n    }\n  }, \"Editar foto\")), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"profile-picture\",\n    src: data.picture,\n    alt: \"Profile pic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-title__email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 33\n    }\n  }, data.email), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-title__fullname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, data.fullname), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-title__joindate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-title__joindate--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 37\n    }\n  }, \"Entrou:\", ' ' + created.getDate(), \"/\", 1 + created.getMonth(), \"/\", created.getFullYear())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-title__status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, member ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-title__status--text\",\n    style: {\n      color: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 45\n    }\n  }, \"Membro\", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    style: {\n      color: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 49\n    }\n  }, \"check\")) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-title__status--text\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 45\n    }\n  }, \"Membro\", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 49\n    }\n  }, \"close\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-main__header--more\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-bio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, data.bio ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-bio__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 37\n    }\n  }, data.bio) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-bio__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 37\n    }\n  }, \"Conte-nos sobre voc\\xEA escrevendo um texto de apresenta\\xE7\\xE3o...\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setSettings(true),\n    className: \"profile-edit__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-edit__btn--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 41\n    }\n  }, \"settings\"), \"Configura\\xE7\\xF5es\")))))), member ? /*#__PURE__*/React.createElement(MemberInfo, Object.assign({}, data, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  })) : /*#__PURE__*/React.createElement(NotAMemberInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"profile-line__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    onClick: () => handleClick('arrangements'),\n    className: `profile-line__list--el \n                            ${active === 'arrangements' ? 'tab-active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }, \"local_florist\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }, \"Arranjos\")))), /*#__PURE__*/React.createElement(\"li\", {\n    onClick: () => handleClick('teaching'),\n    className: `profile-line__list--el \n                            ${active === 'teaching' ? 'tab-active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }, \"class\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 37\n    }\n  }, \"Aulas\")))), /*#__PURE__*/React.createElement(\"li\", {\n    onClick: () => handleClick('messages'),\n    className: `profile-line__list--el \n                            ${active === 'messages' ? 'tab-active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 37\n    }\n  }, \"notifications\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 37\n    }\n  }, \"Notifica\\xE7\\xF5es\")))), /*#__PURE__*/React.createElement(\"li\", {\n    onClick: () => handleClick('new'),\n    className: `profile-line__list--el \n                            ${active === 'new' ? 'tab-active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"profile-tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 37\n    }\n  }, \"add_circle\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-tab__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 37\n    }\n  }, \"Criar\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-display\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, member ? /*#__PURE__*/React.createElement(ActiveComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(NotAMemberTab, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 29\n    }\n  }))), settings && /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, data.is_oauth ? /*#__PURE__*/React.createElement(SettingsDialog, {\n    data: {\n      'Tornar-se Membro': '/account/join',\n      'Informações': '/account/edit'\n    },\n    handler: () => setSettings(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(SettingsDialog, {\n    data: {\n      'Tornar-se Membro': '/account/join',\n      'Informações': '/account/edit',\n      'Senha': '/account/password'\n    },\n    handler: () => setSettings(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }\n  })));\n}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana/reactapp/src/components/pages/Home/Home.js"],"names":["React","useState","useEffect","Link","useHistory","useLocation","Route","BrowserRouter","Router","useSelector","useDispatch","api","changeUrl","ArrangementWrapper","LessonWrapper","MessageWrapper","NewWrapper","Modal","SettingsDialog","ErrorDialog","MemberInfo","NotAMemberInfo","NotAMemberTab","Home","dispatch","error","setError","loading","setLoading","active","state","links","current","url","handleClick","tabs","ActiveComponent","defaults","data","settings","setSettings","setData","member","setMember","authKey","auth","keys","hitApi","key","response","method","headers","isPartner","e","console","log","length","window","location","pathname","alert","joinDate","Date","parse","createdOn","created","picture","email","fullname","getDate","getMonth","getFullYear","color","bio","is_oauth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link,\n    useHistory,\n    useLocation,\n    Route,\n    BrowserRouter as Router } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport api from '../../../services/api';\nimport { changeUrl } from 'store/ducks/links';\n\nimport './styles.scss';\n\nimport ArrangementWrapper from '../../list_elements/Arrangement/ArrangementWrapper';\nimport LessonWrapper from '../../list_elements/Lesson/LessonWrapper';\nimport MessageWrapper from '../../list_elements/Message/MessageWrapper';\nimport NewWrapper from '../../list_elements/New/NewWrapper';\nimport Modal from '../../aux/Modal';\nimport SettingsDialog from '../../aux/SettingsDialog/SettingsDialog';\nimport ErrorDialog from '../../aux/ErrorDialog/ErrorDialog';\n\nimport MemberInfo from './components/MemberInfo';\nimport NotAMemberInfo from './components/NotAMemberInfo';\nimport NotAMemberTab from './components/NotAMemberTab';\n\nexport default function Home() {\n    const dispatch = useDispatch();\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const active = useSelector(state => state.links.current.url)\n\n    const handleClick = (url) => {\n        dispatch(changeUrl(url))\n    }\n\n    //Tabs\n    const tabs = {\n        'arrangements': ArrangementWrapper,\n        'teaching': LessonWrapper,\n        'messages': MessageWrapper,\n        'new': NewWrapper\n    }\n    const ActiveComponent = tabs[active]\n\n    //Defaults\n    const defaults = useSelector(state => state.defaults.data)\n\n    //Edit Settings\n    const [settings, setSettings] = useState(false);\n\n    //Data fetching\n    const [data, setData] = useState(false);\n    const [member, setMember] = useState(false);\n    const authKey = useSelector(state => state.auth.keys)\n\n    const hitApi = async (key) => {\n        try{\n            const response = await api({\n                method: 'get',\n                url: '/user',\n                headers: {\n                    'Authorization': `Bearer ${key[0].key}`\n                },\n            })\n            setData(response.data)\n            response.data.isPartner && setMember(true)\n        } catch(e){\n            console.log('refresh')\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        if (authKey.length === 0) {\n            window.location.pathname = '/logout'\n            alert('Você precisa entrar para acessar essa página')\n        } else {\n            hitApi(authKey)\n        }\n\n    }, [])\n\n    const joinDate = Date.parse(data.createdOn)\n    const created = new Date(joinDate)\n\n    return(\n        <>\n            <div className=\"profile\">\n                <div className=\"profile-main\">\n                    <div className=\"profile-main__header\">\n                    {\n                        loading ?\n                            <div className=\"lds-dual-ring home-loader\"></div>\n                            :\n                        <div className=\"profile-main__header--info\">\n                            <div className=\"picture-wrapper\">\n                                <div className=\"profile-picture picture-overlay\">\n                                    <Link to=\"/account/edit\" \n                                        className=\"picture-overlay__text\">Editar foto</Link>\n                                </div>\n                                    <img className=\"profile-picture\" src={data.picture} \n                                        alt=\"Profile pic\"/>\n                            </div>\n                            <div className=\"profile-title\">\n                                <div className=\"profile-title__email\">{data.email}</div>\n                                <div className=\"profile-title__fullname\">{data.fullname}</div>\n                                <div className=\"profile-title__joindate\">\n                                    <p className=\"profile-title__joindate--text\">\n                                        Entrou: \n                                        {' ' + created.getDate()\n                                        }/{1 + created.getMonth()\n                                        }/{created.getFullYear()}\n                                    </p>\n                                </div>\n                                <div className=\"profile-title__status\">\n                                    {\n                                        member ? \n                                            <p className=\"profile-title__status--text\"\n                                                style={{color: \"green\"}}>Membro\n                                                <i className=\"material-icons\" \n                                                    style={{color: \"green\"}}>check</i>\n                                            </p>\n                                            :\n                                            <p className=\"profile-title__status--text\"\n                                                style={{color: \"red\"}}>Membro\n                                                <i className=\"material-icons\" \n                                                    style={{color: \"red\"}}>close</i>\n                                            </p>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                        }\n                        <div className=\"profile-main__header--more\">\n                            <div className=\"profile-bio\">\n                                {\n                                    data.bio ?\n                                    <p className=\"profile-bio__text\">\n                                        {data.bio}\n                                    </p>\n                                    :\n                                    <p className=\"profile-bio__text\">\n                                        Conte-nos sobre você escrevendo um texto de apresentação...\n                                    </p>\n                                }\n                            </div>\n                            <div className=\"profile-edit\">\n                                <button onClick={() => setSettings(true)} \n                                    className=\"profile-edit__btn\">\n                                    <p className=\"profile-edit__btn--text\">\n                                        <i className=\"material-icons\">settings</i>\n                                        Configurações\n                                    </p>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {\n                    member ?\n                        <MemberInfo {...data}/>\n                        :\n                        <NotAMemberInfo />\n                }\n                <div className=\"profile-line\">\n                    <ul className=\"profile-line__list\">\n                        <li onClick={() => handleClick('arrangements')}\n                            className={`profile-line__list--el \n                            ${active === 'arrangements' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">local_florist</i>\n                                    <p className=\"profile-tab__text\">Arranjos</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li onClick={() => handleClick('teaching')} \n                            className={`profile-line__list--el \n                            ${active === 'teaching' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">class</i>\n                                    <p className=\"profile-tab__text\">Aulas</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li onClick={() => handleClick('messages')}\n                            className={`profile-line__list--el \n                            ${active === 'messages' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">notifications</i>\n                                    <p className=\"profile-tab__text\">Notificações</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li onClick={() => handleClick('new')} \n                            className={`profile-line__list--el \n                            ${active === 'new' ? 'tab-active' : ''}`}>\n                            <a className=\"profile-tab\">\n                                <div className=\"text-wrapper\">\n                                    <i className=\"material-icons\">add_circle</i>\n                                    <p className=\"profile-tab__text\">Criar</p>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>   \n                </div>\n                <div className=\"profile-display\">\n                    {\n                        member ?\n                            <ActiveComponent />                   \n                            :\n                            <NotAMemberTab/>\n                    }\n                </div>\n            </div>\n            {\n                settings &&\n                    <Modal>\n                        {\n                            data.is_oauth ?\n                                <SettingsDialog data={{\n                                    'Tornar-se Membro': '/account/join',\n                                    'Informações': '/account/edit'\n                                }} handler={() => setSettings(false)}/>\n                                   :\n                                <SettingsDialog data={{\n                                    'Tornar-se Membro': '/account/join',\n                                    'Informações': '/account/edit',\n                                    'Senha': '/account/password'\n                                }} handler={() => setSettings(false)}/>\n                        }\n                    </Modal>\n            }\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}