{"ast":null,"code":"import _regeneratorRuntime from\"/home/fabricio7p/Documents/Projects/Ikebana_production/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fabricio7p/Documents/Projects/Ikebana_production/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/fabricio7p/Documents/Projects/Ikebana_production/reactapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ReactPlayer from'react-player';import{useHistory,useParams}from'react-router-dom';import api from'services/api';import'./styles.scss';import AutorCard from'../../cards/AutorCard/AutorCard';export default function SingleLesson(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var params=useParams();var history=useHistory();var fetchProject=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api({method:'get',url:\"/get_project/\".concat(params.lesson_hash)});case 3:response=_context.sent;setData(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:_context.prev=10;setLoading(false);return _context.finish(10);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,7,10,13]]);}));return function fetchProject(){return _ref.apply(this,arguments);};}();useEffect(function(){window.scrollTo(0,0);fetchProject();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"single-lesson\"},/*#__PURE__*/React.createElement(\"div\",{className:\"single-lesson__content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"single-lesson__content--header\"},!loading&&/*#__PURE__*/React.createElement(\"h1\",{className:\"lesson-title\"},data.name.toLowerCase())),/*#__PURE__*/React.createElement(\"div\",{className:\"single-lesson__content--video\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"lds-dual-ring\"}):data.video?/*#__PURE__*/React.createElement(ReactPlayer,{width:\"100%\",url:data.video}):/*#__PURE__*/React.createElement(\"div\",{className:\"video-fallback\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Projeto n\\xE3o possui video\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"single-lesson__content--desc\"},/*#__PURE__*/React.createElement(\"p\",{className:\"lesson-text\"},data.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"single-lesson__content--pic\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pic-container\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"lds-dual-ring\"}):data.pictures.file1&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{className:\"pic-container__overlay\",href:data.pictures.file1,target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},\"get_app\")),/*#__PURE__*/React.createElement(\"img\",{className:\"pic-container__img\",src:data.pictures.file1,alt:\"foto\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pic-container\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"lds-dual-ring\"}):data.pictures.file2&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{className:\"pic-container__overlay\",href:data.pictures.file2,target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},\"get_app\")),/*#__PURE__*/React.createElement(\"img\",{className:\"pic-container__img\",src:data.pictures.file2,alt:\"foto\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pic-container\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"lds-dual-ring\"}):data.pictures.file3&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{className:\"pic-container__overlay\",href:data.pictures.file3,target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},\"get_app\")),/*#__PURE__*/React.createElement(\"img\",{className:\"pic-container__img\",src:data.pictures.file3,alt:\"foto\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"single-lesson__content--footer\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return history.goBack();},className:\"app-btn\"},\"Voltar\"),loading?/*#__PURE__*/React.createElement(\"div\",{className:\"lds-dual-ring\"}):/*#__PURE__*/React.createElement(\"div\",{className:\"footer-autor\"},/*#__PURE__*/React.createElement(\"div\",{className:\"clip-container\"},/*#__PURE__*/React.createElement(AutorCard,{id:data.project_id})),/*#__PURE__*/React.createElement(\"img\",{className:\"autor-img\",src:data.autor_pic}),/*#__PURE__*/React.createElement(\"p\",{className:\"autor-name\"},data.autor))))));}","map":{"version":3,"sources":["/home/fabricio7p/Documents/Projects/Ikebana_production/reactapp/src/components/pages/SingleLesson/SingleLesson.js"],"names":["React","useState","useEffect","ReactPlayer","useHistory","useParams","api","AutorCard","SingleLesson","loading","setLoading","data","setData","params","history","fetchProject","method","url","lesson_hash","response","console","log","window","scrollTo","name","toLowerCase","video","description","pictures","file1","file2","file3","goBack","project_id","autor_pic","autor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactPlayer from 'react-player';\nimport { useHistory, useParams } from 'react-router-dom';\nimport api from 'services/api';\n\nimport './styles.scss';\n\nimport AutorCard from '../../cards/AutorCard/AutorCard';\n\nexport default function SingleLesson() {\n    const [loading, setLoading] = useState(true);\n    const [data, setData] = useState(false);\n\n    const params = useParams();\n    const history = useHistory();\n\n    const fetchProject = async () => {\n        try {\n            const response = await api({\n                method: 'get',\n                url: `/get_project/${params.lesson_hash}`\n            })\n            setData(response.data)\n        } catch(e) {\n            console.log(e)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n        fetchProject()\n    },[])\n\n    return(\n        <>\n            <div className=\"single-lesson\">\n                <div className=\"single-lesson__content\">\n                    <div className=\"single-lesson__content--header\">\n                        {\n                            !loading &&\n                        <h1 className=\"lesson-title\">{data.name.toLowerCase()}</h1>\n                        }\n                    </div>\n                    <div className=\"single-lesson__content--video\">\n                        {\n                            loading ?\n                                <div className=\"lds-dual-ring\"></div>\n                                :\n                                data.video ?\n                                    <ReactPlayer width='100%' url={data.video}/>\n                                    :\n                                <div className=\"video-fallback\">\n                                    <h1>Projeto não possui video</h1>\n                                </div>\n                        }\n                    </div>\n                    <div className=\"single-lesson__content--desc\">\n                        <p className=\"lesson-text\">{data.description}</p>\n                    </div>\n                    <div className=\"single-lesson__content--pic\">\n                        <div className=\"pic-container\">\n                            {\n                                loading ?\n                                    <div className=\"lds-dual-ring\"></div>\n                                    :\n                                    data.pictures.file1 &&\n                                    <>\n                                        <a className=\"pic-container__overlay\" \n                                            href={data.pictures.file1} target=\"_blank\">\n                                            <i className=\"material-icons\">get_app</i>\n                                        </a>\n                                        <img \n                                            className=\"pic-container__img\" \n                                            src={data.pictures.file1} alt=\"foto\" />\n                                    </>\n                            }\n                        </div>\n                        <div className=\"pic-container\">\n                            {\n                                loading ?\n                                    <div className=\"lds-dual-ring\"></div>\n                                    :\n                                    data.pictures.file2 &&\n                                    <>\n                                        <a className=\"pic-container__overlay\" \n                                            href={data.pictures.file2} target=\"_blank\">\n                                            <i className=\"material-icons\">get_app</i>\n                                        </a>\n                                        <img className=\"pic-container__img\" \n                                            src={data.pictures.file2} alt=\"foto\" />\n                                    </>\n                            }\n                        </div>\n                        <div className=\"pic-container\">\n                            {\n                                loading ?\n                                    <div className=\"lds-dual-ring\"></div>\n                                    :\n                                    data.pictures.file3 &&\n                                    <>\n                                        <a className=\"pic-container__overlay\" \n                                            href={data.pictures.file3} target=\"_blank\">\n                                            <i className=\"material-icons\">get_app</i>\n                                        </a>\n                                        <img className=\"pic-container__img\" \n                                            src={data.pictures.file3} alt=\"foto\" />\n                                    </>\n                            }\n                        </div>\n                    </div>\n                    <div className=\"single-lesson__content--footer\">\n                        <button onClick={() => history.goBack()} \n                            className=\"app-btn\">Voltar</button>\n                            {\n                                loading ?\n                                    <div className=\"lds-dual-ring\"></div>\n                                    :\n                                    <div className=\"footer-autor\">\n                                        <div className=\"clip-container\">\n                                            <AutorCard id={data.project_id} />\n                                        </div>\n                                        <img className=\"autor-img\" src={data.autor_pic} />\n                                        <p className=\"autor-name\">{data.autor}</p>\n                                    </div>\n                            }\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}